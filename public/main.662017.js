require=function e(t,n,o){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({CsMVuE:[function(e,t){t.exports={id:"project_id",background:"the-milky-way-fpo.jpg",producer:"The name of your group",title:"Project title",summary:"A catchy phrase summing up the project",description:"This is a brief but slightly more detailed project description.",pages:[{About:"<h1>All about the project</h1>\n<p>This is where we'll go into detail.</p>\n<hr />\n<h2>Lorem ipsum dolor sir amet.</h2>\n<p>Break it into sections, add pictures, whatever.</p>"},{"Another page":"<p>Any additional pages you'd like can be added here.</p>"}],organizations:[{image:"//placehold.it/100.png?text=Example",name:"Example Organization",description:"This is an example organization.",url:["https://www.zooniverse.org/","https://twitter.com/the_zooniverse","https://github.com/zooniverse"]}],scientists:[{image:"//placehold.it/100.png?text=Example",name:"Example Scietist",location:"Oxford, U.K.",description:"This is an example scientist.",url:"https://twitter.com/orbitingfrog"}],developers:[{image:"//placehold.it/100.png?text=Example",name:"Example Developer",location:"Chicago, IL",description:"This is an example developer.",url:["http://viewinglens.com/","https://github.com/brian-c","https://twitter.com/__brian_c__"]}],tasks:{pickOne:{type:"button",question:"Pick one",choices:[{value:"default",image:"//placehold.it/100.png",label:"Default"},{value:"specific",image:"//placehold.it/100.png",label:"Specific"}]}},firstTask:"pickOne"}},{}],"zooniverse-readymade/current-configuration":[function(e,t){t.exports=e("CsMVuE")},{}],3:[function(e,t){var n;n=e("zooniverse/lib/api"),t.exports=e("zooniverse-readymade/current-project")},{"zooniverse-readymade/current-project":"FmVlZl","zooniverse/lib/api":28}],FmVlZl:[function(e,t){var n;n=e("../../../src/project"),$.getJSON("/project",function(){return function(e){var t;return e=e.project,console.log(e),null!=e.title?(t=document.createElement("div"),t.innerHTML=e.title,document.title=t.textContent,new n(e)):void 0}}(this)),t.exports=[]},{"../../../src/project":65}],"zooniverse-readymade/current-project":[function(e,t){t.exports=e("FmVlZl")},{}],6:[function(e,t){(function(){var e,n,o,r,i,s,a,l,u,c,p,h,d,f,g,v,m,y,w,_,b,k,z={}.hasOwnProperty,S=function(e,t){function n(){this.constructor=e}for(var o in t)z.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},C=[].slice,x=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};w=function(){var e,t,n,o,r;for(t=["mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","matchesSelector","matches"],o=0,r=t.length;r>o;o++)n=t[o],n in Element.prototype&&(e=n);return function(t,n){return"function"==typeof t[e]?t[e](n):void 0}}(),v=function(){var e;return e="marking-surface-element-that-only-exists-to-please-ie",function(t,n){var o;return document.querySelector('style, link[rel="stylesheet"]').insertAdjacentHTML("beforeBegin",'<span id="'+e+'"></span>\n<style id="'+t+'">'+n+"</style>"),o=document.getElementById(e),o.parentNode.removeChild(o),document.getElementById(t)}}(),e=function(){function e(e){var t,n;null==e&&(e={}),this._events={};for(t in e)n=e[t],this[t]=n}return e.prototype.on=function(e,t){var n;return null==(n=this._events)[e]&&(n[e]=[]),this._events[e].push(t)},e.prototype.trigger=function(e,t){var n,o,r,i,s;if(null==t&&(t=[]),e in this._events){for(i=this._events[e],s=[],o=0,r=i.length;r>o;o++)n=i[o],s.push(this.applyHandler(n,t));return s}},e.prototype.applyHandler=function(e,t){var n,o;return null==t&&(t=[]),n=this,e instanceof Array&&(o=e,n=o[0],e=o[1]),"string"==typeof e&&(e=n[e]),e.apply(n,t)},e.prototype.off=function(e,t){var n,o,r,i;if(null==e){i=[];for(r in this._events)i.push(delete this._events[r]);return i}return e in this._events?(o=this._events[e],null!=t?(n=o.indexOf(t),o.splice(n,1)):o.splice(0)):void 0},e.prototype.destroy=function(){return this.trigger("destroy"),this.off()},e}(),o=function(e){function t(){this._eventListeners={},this._delegatedListeners={},t.__super__.constructor.apply(this,arguments),null==this.el&&this._createEl(),this.addEvent("mousedown",this._onStart),this.addEvent("touchstart",this._onStart),this.disabled&&this.disable()}return S(t,e),t.prototype.tag="div",t.prototype.disabled=!1,t.prototype._startEvent=null,t.prototype._createEl=function(){var e,t,n;return n=this.tag.split("."),t=n[0],e=2<=n.length?C.call(n,1):[],this.el=document.createElement(t),this.el.className=e.join(" ")},t.prototype.attr=function(e,t){return 1===arguments.length?this.el.getAttribute(e):null!=t?this.el.setAttribute(e,t):this.el.removeAttribute(e),"msMatchesSelector"in document.body?(this.el.style.display="none",this.el.style.display=""):void 0},t.prototype.enable=function(){return this.disabled=!1,this.attr("disabled",null),this.trigger("enable")},t.prototype.disable=function(){return this.disabled=!0,this.attr("disabled",!0),this.trigger("disable")},t.prototype.addEvent=function(){var e,t,n,o,r,i,s,a;return t=arguments[0],o=3<=arguments.length?C.call(arguments,1,a=arguments.length-1):(a=1,[]),n=arguments[a++],e=o[0],t in this._eventListeners||t in this._delegatedListeners||this.el.addEventListener(t,this,!1),null!=e?(null==(r=this._delegatedListeners)[t]&&(r[t]={}),null==(i=this._delegatedListeners[t])[e]&&(i[e]=[]),this._delegatedListeners[t][e].push(n)):(null==(s=this._eventListeners)[t]&&(s[t]=[]),this._eventListeners[t].push(n))},t.prototype._onStart=function(e){return this._startEvent=e,addEventListener("mousemove",this,!1),addEventListener("mouseup",this,!1),addEventListener("touchmove",this,!1),addEventListener("touchend",this,!1),addEventListener("touchcancel",this,!1),this.dispatchEvent("start",{originalEvent:e})},t.prototype._onMove=function(e){return this.dispatchEvent("move",{originalEvent:e})},t.prototype._onRelease=function(e){return removeEventListener("mousemove",this,!1),removeEventListener("mouseup",this,!1),removeEventListener("touchmove",this,!1),removeEventListener("touchend",this,!1),removeEventListener("touchcancel",this,!1),this._startEvent=null,this.dispatchEvent("release",{originalEvent:e})},t.prototype.handleEvent=function(e){var t,n,o,r,i,s,a,l,u,c,p,h,d,f,g,v,m;if(!this.disabled)if(e.currentTarget===window)switch(e.type){case"mousemove":case"touchmove":return this._onMove(e);case"mouseup":case"touchend":case"touchcancel":return this._onRelease(e)}else{if(a=e.type,(null!=(c=e.detail)?c.originalEvent:void 0)&&(e=e.detail.originalEvent,r=null!=(p=null!=(h=this._startEvent)?h.target:void 0)?p:null!=(d=this._startEvent)?d.srcElement:void 0),a in this._eventListeners)for(f=this._eventListeners[a],l=0,u=f.length;u>l;l++)t=f[l],this.applyHandler(t,[e]);if(a in this._delegatedListeners){g=this._delegatedListeners[a],m=[];for(i in g){for(n=g[i],o=null,s=null!=(v=null!=r?r:e.target)?v:e.srcElement;null!=s&&null==o;)w(s,i)&&(o=s),s=s.parentNode;m.push(null!=o?function(){var o,r,i;for(i=[],o=0,r=n.length;r>o;o++)t=n[o],i.push(this.applyHandler(t,[e]));return i}.call(this):void 0)}return m}}},t.prototype.removeEvent=function(){var e,t,n,o,r,i,s;return t=arguments[0],i=3<=arguments.length?C.call(arguments,1,s=arguments.length-1):(s=1,[]),n=arguments[s++],e=i[0],o=null!=e?t in this._delegatedListeners&&e in this._delegatedListeners[t]&&x.call(this._delegatedListeners[t],n)>=0?this._delegatedListeners[t]:void 0:t in this._eventListeners&&x.call(this._eventListeners[t],n)>=0?this._eventListeners[t]:void 0,null!=o?(r=o.indexOf(n),o.splice(r,1)):void 0},t.prototype.dispatchEvent=function(e,t){var n;return n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,t),this.el.dispatchEvent(n)},t.prototype.trigger=function(e,n){return null==n&&(n=[]),t.__super__.trigger.apply(this,arguments),this.dispatchEvent(e,[this].concat(C.call(n)))},t.prototype.pointerOffset=function(e){var t,n,o,r,i;return"touches"in e&&(e=e.touches[0]),i=this.el.getBoundingClientRect(),t=i.left,n=i.top,o=e.pageX-pageXOffset-t,r=e.pageY-pageYOffset-n,{x:o,y:r}},t.prototype.toFront=function(){var e;return null!=(e=this.el.parentNode)?e.appendChild(this.el):void 0},t.prototype.remove=function(){var e;return null!=(e=this.el.parentNode)?e.removeChild(this.el):void 0},t.prototype.destroy=function(){var e;t.__super__.destroy.apply(this,arguments),this.remove();for(e in this._eventListeners)this.el.removeEventListener(e,this,!1);for(e in this._delegatedListeners)e in this._eventListeners||this.el.removeEventListener(e,this,!1);return this._eventListeners={},this._delegatedListeners={}},t}(e),l={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},n=["viewBox","preserveAspectRatio","stdDeviation","tableValues"],u=["textContent"],r="marking-surface-filter-",c=function(e){function t(){t.__super__.constructor.apply(this,arguments),null!=this.defaultAttrs&&(this.attr(this.defaultAttrs),this.defaultAttrs=null)}return S(t,e),t.prototype.tag="svg",t.prototype.defaultAttrs=null,t.prototype._createEl=function(){var e,t,n,o,r,i;return r=this.tag.split("."),n=r[0],e=2<=r.length?C.call(r,1):[],n||(n="svg"),i=n.split(":"),t=2<=i.length?C.call(i,0,o=i.length-1):(o=0,[]),n=i[o++],t=t.join(":")||"svg",this.el=document.createElementNS(l[t]||null,n),this.attr("class",e.join(" "))},t.prototype.attr=function(e,t){var o,r,i,s,a,c;if("string"==typeof e)return x.call(n,e)>=0||x.call(u,e)>=0||(e=e.replace(/([A-Z])/g,"-$1").toLowerCase()),s=e.split(":"),r=2<=s.length?C.call(s,0,i=s.length-1):(i=0,[]),e=s[i++],r=null!=(a=l[r.join("")])?a:null,1===arguments.length?x.call(u,e)>=0?this.el[e]:this.el.getAttributeNS(r,e):null!=t?x.call(u,e)>=0?this.el[e]=t:this.el.setAttributeNS(r,e,t):this.el.removeAttributeNS(r,e);o=e,c=[];for(e in o)t=o[e],c.push(this.attr(e,t));return c},t.prototype.addShape=function(e,n){var o;return o=new t({tag:e,defaultAttrs:n}),this.el.appendChild(o.el),o},t.prototype.filter=function(e){return this.attr("filter",null!=e?"url(#"+r+e+")":"")},t}(o),c.filtersContainer=new c({defaultAttrs:{id:"marking-surface-filters-container",width:0,height:0,style:"bottom: 0; position: absolute; right: 0;"}}),c.filterDefs=c.filtersContainer.addShape("defs"),_=c.filterDefs.addShape("filter",{id:""+r+"shadow"}),_.addShape("feGaussianBlur",{stdDeviation:2,"in":"SourceAlpha"}),_.addShape("feOffset",{dx:.5,dy:1}),b=_.addShape("feMerge"),b.addShape("feMergeNode"),b.addShape("feMergeNode",{"in":"SourceGraphic"}),f=c.filterDefs.addShape("filter",{id:""+r+"focus"}),f.addShape("feGaussianBlur",{stdDeviation:3}),g=f.addShape("feMerge"),g.addShape("feMergeNode"),g.addShape("feMergeNode",{"in":"SourceGraphic"}),m=c.filterDefs.addShape("filter",{id:""+r+"invert",colorInterpolationFilters:"sRGB"}),y=m.addShape("feComponentTransfer"),y.addShape("feFuncR",{type:"table",tableValues:"1 0"}),y.addShape("feFuncG",{type:"table",tableValues:"1 0"}),y.addShape("feFuncB",{type:"table",tableValues:"1 0"}),document.body.appendChild(c.filtersContainer.el),s=function(e){function t(){return k=t.__super__.constructor.apply(this,arguments)}return S(t,e),t.prototype.precision=3,t.prototype.ignore=["disabled","ignore","precision"],t.prototype.set=function(e,t){var n,o;if("string"==typeof e)o=this["set "+e],null!=o&&(t=o.call(this,t)),this[e]=t,this.trigger("change",[e,t]);else{n=e;for(e in n)t=n[e],this.set(e,t)}},t.prototype.toJSON=function(){var e,t,n,o;n={};for(t in this)o=this[t],x.call(this.ignore,t)>=0||"_"!==t.charAt(0)&&("number"==typeof o&&(e=o.toString().split("."),null!=e[1]&&(e[1]=e[1].slice(0,this.precision),o=parseFloat(e.join(".")))),n[t]=o);return n},t}(e),i={esc:27,"delete":8},d=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.el.type="button",this.tool.on("focus",[this.el,"focus"]),this.tool.on("select",[this,"toFront"]),this.tool.on("destroy",[this,"destroy"]),this.addEvent("focus",[this.tool,"focus"]),this.addEvent("click",[this.tool,"select"]),this.addEvent("blur",[this.tool,"blur"]),this.addEvent("keydown",this.onKeydown)}return S(t,e),t.prototype.tag="button.marking-surface-tool-focus-target",t.prototype.onKeydown=function(e){var t,n,o,r,s;if(!(e.metaKey||e.ctrlKey||e.altKey)){switch(e.which){case i["delete"]:r=this.el.parentNode.children,t=Array.prototype.indexOf.call(r,this.el),this.tool.mark.destroy(),n=r[t%r.length],null!=n&&n.focus();break;case i.esc:null!=(s=this.tool.markingSurface.selection)&&s.deselect();break;default:o=!0}return o?void 0:e.preventDefault()}},t}(o),h=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.el.insertAdjacentHTML("beforeEnd",this.template),this.tool.on("select",[this,"onToolSelect"]),this.tool.mark.on("change",[this,"onMarkChange"]),this.tool.on("deselect",[this,"onToolDeselect"]),this.tool.on("destroy",[this,"onToolDestroy"])}return S(t,e),t.prototype.tag="div.marking-surface-tool-controls",t.prototype.template="",t.prototype.onToolSelect=function(){return this.toFront(),this.attr("data-selected",!0)},t.prototype.onToolDeselect=function(){return this.attr("data-selected",null)},t.prototype.onToolDestroy=function(){return this.destroy()},t.prototype.onMarkChange=function(){return"function"==typeof this.render?this.render.apply(this,arguments):void 0},t.prototype.moveTo=function(e){var t,n,o,r,i,s;return r=e.x,i=e.y,s=this.tool.markingSurface.toPixels({x:r,y:i}),r=s.x,i=s.y,o=this.tool.markingSurface.el.offsetWidth,t=this.tool.markingSurface.el.offsetHeight,n=0>r||r>o||0>i||i>t,this.attr("data-out-of-bounds",n||null),this.el.style.left=""+r+"px",this.el.style.top=""+i+"px",this.attr("data-horizontal-room",o/2>r?"right":"left"),this.attr("data-vertical-room",t/2>i?"down":"up")},t.prototype.render=function(){return this.attr("data-complete",this.tool.isComplete()||null)},t}(o),h.defaultStyle=v("marking-surface-tool-controls-default-style",".marking-surface-tool-controls {\n  position: absolute;\n}\n\n.marking-surface-tool-controls:not([data-selected]) {\n  display: none;\n}\n\n.marking-surface-tool-controls[data-out-of-bounds] {\n  display: none;\n}"),p=function(e){function t(){var e=this;t.__super__.constructor.apply(this,arguments),null==this.mark&&(this.mark=new this.constructor.Mark,this.trigger("create-mark",[this.mark])),this.mark.on("change",[this,"onMarkChange"]),this.mark.on("destroy",[this,"onMarkDestroy"]),null!=this.constructor.Controls&&(this.controls=new this.constructor.Controls({tool:this}),this.trigger("create-controls",[this.controls])),this.focusTarget=new d({tool:this}),this.focusRoot=c.prototype.addShape.call(this,"g.marking-surface-tool-focus-root"),this.selectedRoot=this.focusRoot.addShape("g.marking-surface-tool-selected-root"),this.root=this.selectedRoot.addShape("g.marking-surface-tool-root"),setTimeout(function(){return null!=e.markingSurface?e.rescale(e.markingSurface.getScale()):void 0})}return S(t,e),t.Mark=s,t.Controls=null,t.mobile=!!navigator.userAgent.match(/iP|droid/),t.prototype.tag="g.marking-surface-tool",t.prototype.markingSurface=null,t.prototype.movements=0,t.prototype.onMarkChange=function(e,t){var n,o,r,i;return"function"==typeof this.render&&this.render(e,t),null!=(o=this.render)&&null!=(r=o[e])&&"function"==typeof r.call&&r.call(this,t),"function"==typeof this[n=null!=(i=this.render)?i[e]:void 0]&&this[n](),this.trigger("change",[this.mark])},t.prototype.onMarkDestroy=function(){return this.destroy()},t.prototype.addShape=function(){var e;return(e=this.root).addShape.apply(e,arguments)},t.prototype.coords=function(e){return this.markingSurface.toScale(this.markingSurface.sizeRect.pointerOffset(e))},t.prototype._onStart=function(e){return e.preventDefault(),t.__super__._onStart.apply(this,arguments),this.select(),this.focus()},t.prototype.handleEvent=function(){return this.markingSurface.disabled?void 0:t.__super__.handleEvent.apply(this,arguments)},t.prototype.onInitialStart=function(e){return this.focus(),this.trigger("initial-click",[e])},t.prototype.onInitialMove=function(e){return this.trigger("initial-drag",[e])},t.prototype.onInitialRelease=function(e){return this.movements+=1,this.trigger("initial-release",[e])},t.prototype.render=function(){},t.prototype.rescale=function(){return this.render()},t.prototype.isComplete=function(){return 1===this.movements},t.prototype.focus=function(){return this.attr("data-focused",!0),this.trigger("focus")},t.prototype.blur=function(){return this.attr("data-focused",null),this.trigger("blur")},t.prototype.select=function(){return this.attr("data-selected",!0),this.toFront(),this.trigger("select")},t.prototype.deselect=function(){return this.attr("data-selected",null),this.trigger("deselect")},t.prototype.destroy=function(){return this.deselect(),t.__super__.destroy.apply(this,arguments)},t}(c),p.defaultStyle=v("marking-surface-tool-default-style",".marking-surface-tool[data-focused] .marking-surface-tool-focus-root {\n  filter: url(#"+r+"focus);\n}\n\n.marking-surface-tool[data-selected] .marking-surface-tool-selected-root {\n  filter: url(#"+r+"shadow);\n}"),a=function(e){function t(){this.tools=[],t.__super__.constructor.apply(this,arguments),this.svg=new c({tag:"svg.marking-surface-svg"}),this.sizeRect=this.svg.addShape("rect",{fill:"none",stroke:"transparent",strokeWidth:0,width:"100%",height:"100%"}),this.root=this.svg.addShape("g.marking-surface-svg-root"),this.el.appendChild(this.svg.el),this.on("destroy",[this.svg,"destroy"]),this.svg.addEvent("select",".marking-surface-tool",[this,"onSelectTool"]),this.svg.addEvent("change",".marking-surface-tool",[this,"onChangeMark"]),this.svg.addEvent("deselect",".marking-surface-tool",[this,"onDeselectTool"]),this.svg.addEvent("destroy",".marking-surface-tool",[this,"onDestroyTool"]),this.focusable&&(this.toolFocusTargetsContainer=new o({tag:"div.marking-surface-tool-focusables-container"}),this.el.appendChild(this.toolFocusTargetsContainer.el),this.on("destroy",[this.toolFocusTargetsContainer,"destroy"])),this.toolControlsContainer=new o({tag:"div.marking-surface-tool-controls-container"}),this.el.appendChild(this.toolControlsContainer.el),this.on("destroy",[this.toolControlsContainer,"destroy"]),this.inputName&&(this.input=new o({tag:"input.marking-surface-input"}),this.input.el.tabIndex=-1,this.input.el.name=this.inputName,this.on("change",this.onChange),this.on("destroy",[this.input,"destroy"]),this.el.appendChild(this.input.el)),this.trigger("change"),addEventListener("resize",this,!1)}return S(t,e),t.prototype.tag="div.marking-surface",t.prototype.focusable=!0,t.prototype.inputName="",t.prototype.tool=null,t.prototype.selection=null,t.prototype.handleEvent=function(e){return e.target===window&&"resize"===e.type?this.rescaleTools():t.__super__.handleEvent.apply(this,arguments)},t.prototype.addShape=function(){var e;return(e=this.root).addShape.apply(e,arguments)},t.prototype._onStart=function(e){var n,o;if(!e.defaultPrevented&&!w(e.target,".marking-surface-tool-controls-container *"))return e.preventDefault(),n=null==this.selection||(null!=(o=this.selection)?o.isComplete():void 0)?null!=this.tool?this.addTool():void 0:this.selection,null!=n?(n.select(),n.onInitialStart(e),t.__super__._onStart.apply(this,arguments)):void 0},t.prototype._onMove=function(e){var n;return t.__super__._onMove.apply(this,arguments),null!=(n=this.selection)?n.onInitialMove(e):void 0},t.prototype._onRelease=function(e){var n;return t.__super__._onRelease.apply(this,arguments),null!=(n=this.selection)?n.onInitialRelease(e):void 0},t.prototype.addTool=function(e){var t;return null==e&&(e=new this.tool({markingSurface:this})),e.markingSurface=this,this.tools.push(e),e.remove(),this.root.el.appendChild(e.el),"function"==typeof e.render&&e.render(),null!=e.controls&&this.toolControlsContainer.el.appendChild(e.controls.el),null!=e.focusTarget&&null!=(t=this.toolFocusTargetsContainer)&&t.el.appendChild(e.focusTarget.el),this.trigger("add-tool",[e]),this.trigger("change"),e},t.prototype.onSelectTool=function(e){var t,n;return t=e.detail[0],this.selection!==t?(null!=(n=this.selection)&&n.deselect(),this.selection=t,this.trigger("select-tool",[this.selection])):void 0},t.prototype.onChangeMark=function(e){var t;return t=e.detail[0],this.trigger("change",[t])},t.prototype.onChange=function(){var e;return null!=(e=this.input)?e.el.value=this.getValue():void 0},t.prototype.onDeselectTool=function(e){var t;return t=e.detail[0],this.selection===t?(this.selection=null,this.trigger("deselect-tool",[t])):void 0},t.prototype.onDestroyTool=function(e){var t,n;return n=e.detail[0],t=this.tools.indexOf(n),this.tools.splice(t,1),this.trigger("remove-tool",[n]),this.trigger("change")},t.prototype.toScale=function(e){var t,n,o,r;return o=e.x,r=e.y,this.svg.el.hasAttribute("viewBox")&&(n=this.svg.el.viewBox.animVal,t=this.sizeRect.el.getBoundingClientRect(),o+=n.x,o*=n.width/t.width,r+=n.y,r*=n.height/t.height),{x:o,y:r}},t.prototype.toPixels=function(e){var t,n,o,r;return o=e.x,r=e.y,this.svg.el.hasAttribute("viewBox")&&(n=this.svg.el.viewBox.animVal,t=this.sizeRect.el.getBoundingClientRect(),o/=n.width/t.width,o-=n.x,r/=n.height/t.height,r-=n.y),{x:o,y:r}},t.prototype.rescale=function(e,t,n,o){return this.svg.attr("viewBox",""+e+" "+t+" "+n+" "+o),this.rescaleTools()},t.prototype.rescaleTools=function(){var e,t,n,o,r;for(o=this.tools,r=[],t=0,n=o.length;n>t;t++)e=o[t],r.push("function"==typeof e.rescale?e.rescale(this.getScale()):void 0);return r},t.prototype.getScale=function(){var e;return e=this.toScale({x:100,y:100}),2/(e.x/100+e.y/100)},t.prototype.getValue=function(){var e;return JSON.stringify(function(){var t,n,o,r;for(o=this.tools,r=[],t=0,n=o.length;n>t;t++)e=o[t],r.push(e.mark);return r}.call(this))},t.prototype.disable=function(){var e;return null!=(e=this.selection)&&e.deselect(),t.__super__.disable.apply(this,arguments)},t.prototype.reset=function(){for(;0!==this.tools.length;)this.tools[0].destroy();return null},t.prototype.destroy=function(){return this.reset(),removeEventListener("resize",this,!1),t.__super__.destroy.apply(this,arguments)},t}(o),a.defaultStyle=v("marking-surface-default-style",".marking-surface {\n  display: inline-block;\n  position: relative;\n}\n\n.marking-surface-svg {\n  display: block;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n}\n\n.marking-surface-input {\n  left: 0;\n  position: absolute;\n  opacity: 0;\n  pointer-events: none;\n  top: 0;\n}\n\n.marking-surface-tool-focusables-container {\n  height: 0;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 0;\n}\n\n.marking-surface-tool-controls-container {\n  left: 0;\n  position: absolute;\n  top: 0;\n}"),a.BaseClass=e,a.ElementBase=o,a.SVG=c,a.Mark=s,a.ToolFocusTarget=h,a.ToolControls=h,a.Tool=p,"undefined"!=typeof window&&null!==window&&(window.MarkingSurface=a),"undefined"!=typeof t&&null!==t&&(t.exports=a),"function"==typeof define&&define(function(){return a})}).call(this)},{}],7:[function(e,t){(function(){var n,o,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=(("undefined"!=typeof window&&null!==window?window.MarkingSurface:void 0)||e("marking-surface")).Tool,n=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.mark.x=0,this.mark.y=0,this.mark.angle=0,this.mark.rx=0,this.mark.ry=0,this.radii=this.addShape("path.radii",{stroke:"currentColor"}),this.outline=this.addShape("ellipse.outline",{fill:"transparent",stroke:"currentColor"}),this.xHandle=this.addShape("circle.x-handle",{fill:"currentColor"}),this.yHandle=this.addShape("circle.y-handle",{fill:"currentColor"}),this.addEvent("start",".outline",this.startDrag),this.addEvent("move",".outline",this.moveOutline),this.addEvent("move",".x-handle",this.dragXHandle),this.addEvent("move",".y-handle",this.dragYHandle)}return i(t,e),t.prototype.handleRadius=t.mobile?20:10,t.prototype.strokeWidth=2,t.prototype.defaultRadius=2,t.prototype.defaultSquash=.5,t.prototype.startOffset=null,t.prototype.rescale=function(e){var n,o;return t.__super__.rescale.apply(this,arguments),o=this.strokeWidth/e,n=this.handleRadius/e,this.radii.attr("strokeWidth",o/2),this.outline.attr("strokeWidth",o),this.xHandle.attr("r",n),this.yHandle.attr("r",n)},t.prototype.onInitialStart=function(e){var n,o,r;return t.__super__.onInitialStart.apply(this,arguments),r=this.coords(e),n=r.x,o=r.y,this.mark.set({x:n,y:o,rx:this.defaultRadius,ry:this.defaultRadius*this.defaultSquash})},t.prototype.onInitialMove=function(e){return t.__super__.onInitialMove.apply(this,arguments),this.dragXHandle(e),this.mark.set("ry",this.mark.rx*this.defaultSquash)},t.prototype.startDrag=function(e){var t,n,o;return o=this.coords(e),t=o.x,n=o.y,this.startOffset={x:this.mark.x-t,y:this.mark.y-n}},t.prototype.moveOutline=function(e){var t,n,o;return o=this.coords(e),t=o.x,n=o.y,this.mark.set({x:t+this.startOffset.x,y:n+this.startOffset.y})},t.prototype.dragXHandle=function(e){var t,n,o;return o=this.coords(e),t=o.x,n=o.y,this.mark.set({angle:this.getAngle(this.mark.x,this.mark.y,t,n),rx:this.getDistance(this.mark.x,this.mark.y,t,n)})},t.prototype.dragYHandle=function(e){var t,n,o;return o=this.coords(e),t=o.x,n=o.y,this.mark.set({angle:this.getAngle(this.mark.x,this.mark.y,t,n)-90,ry:this.getDistance(this.mark.x,this.mark.y,t,n)})},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),this.attr("transform","translate("+this.mark.x+", "+this.mark.y+") rotate("+-this.mark.angle+")"),this.radii.attr("d","M 0 "+-this.mark.ry+" L 0 0 M "+this.mark.rx+" 0 L 0 0"),this.outline.attr({rx:this.mark.rx,ry:this.mark.ry}),this.xHandle.attr("cx",this.mark.rx),this.yHandle.attr("cy",-this.mark.ry),null!=(e=this.controls)?e.moveTo(this.mark):void 0},t.prototype.getAngle=function(e,t,n,o){var r,i;return r=n-e,i=o-t,Math.atan2(i,r)*(-180/Math.PI)},t.prototype.getDistance=function(e,t,n,o){var r,i;return r=Math.pow(n-e,2),i=Math.pow(o-t,2),Math.sqrt(r+i)},t}(o),"undefined"!=typeof window&&null!==window&&(window.MarkingSurface.EllipseTool=n),"undefined"!=typeof t&&null!==t&&(t.exports=n)}).call(this)},{"marking-surface":6}],8:[function(e,t){(function(){var n,o,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=(("undefined"!=typeof window&&null!==window?window.MarkingSurface:void 0)||e("marking-surface")).Tool,n=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.mark.x=0,this.mark.y=0,this.ticks=this.addShape("path",{stroke:"currentColor"}),this.disc=this.addShape("circle",{fill:"transparent",stroke:"currentColor"}),this.addEvent("move","circle",this.onMove)}return i(t,e),t.prototype.radius=t.mobile?25:15,t.prototype.strokeWidth=2,t.prototype.rescale=function(e){var n,o;return t.__super__.rescale.apply(this,arguments),n=this.radius/e,o=this.strokeWidth/e,this.ticks.attr({d:"M "+-n+" 0 L "+-n*(1/3)+" 0 M "+n+" 0 L "+n*(1/3)+" 0\nM 0 "+-n+" L 0 "+-n*(1/3)+" M 0 "+n+" L 0 "+n*(1/3),strokeWidth:o}),this.disc.attr({r:n,strokeWidth:o})},t.prototype.onInitialStart=function(e){return t.__super__.onInitialStart.apply(this,arguments),this.onInitialMove(e)},t.prototype.onInitialMove=function(e){return t.__super__.onInitialMove.apply(this,arguments),this.onMove(e)},t.prototype.onMove=function(e){var t,n,o;return o=this.coords(e),t=o.x,n=o.y,t-=10,n-=10,this.mark.set({x:t,y:n})},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),this.attr("transform","translate("+this.mark.x+", "+this.mark.y+")"),null!=(e=this.controls)?e.moveTo(this.mark):void 0},t}(o),"undefined"!=typeof window&&null!==window&&(window.MarkingSurface.PointTool=n),"undefined"!=typeof t&&null!==t&&(t.exports=n)}).call(this)},{"marking-surface":6}],9:[function(e,t){(function(){var n,o,r=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=(("undefined"!=typeof window&&null!==window?window.MarkingSurface:void 0)||e("marking-surface")).Tool,n=function(e){function t(){this.dragFromBottomLeft=r(this.dragFromBottomLeft,this),this.dragFromBottomRight=r(this.dragFromBottomRight,this),this.dragFromTopRight=r(this.dragFromTopRight,this),this.dragFromTopLeft=r(this.dragFromTopLeft,this);var e;t.__super__.constructor.apply(this,arguments),this.mark.left=0,this.mark.top=0,this.mark.width=0,this.mark.height=0,this.outline=this.addShape("rect.outline",{fill:"transparent",stroke:"currentColor"}),this.addEvent("start",".outline",this.startDrag),this.addEvent("move",".outline",this.moveOutline),e={r:this.handleSize,fill:"currentColor",stroke:"transparent"},this.topLeftHandle=this.addShape("circle.top-left.handle",e),this.topRightHandle=this.addShape("circle.top-right.handle",e),this.bottomRightHandle=this.addShape("circle.bottom-right.handle",e),this.bottomLeftHandle=this.addShape("circle.bottom-left.handle",e),this.addEvent("start",".top-left.handle",this.startTopLeftHandle),this.addEvent("start",".top-right.handle",this.startTopRightHandle),this.addEvent("start",".bottom-right.handle",this.startBottomRightHandle),this.addEvent("start",".bottom-left.handle",this.startBottomLeftHandle),this.addEvent("move",".handle",this.moveAnyHandle),this.handles=[this.topLeftHandle,this.topRightHandle,this.bottomRightHandle,this.bottomLeftHandle]}var n;return s(t,e),t.prototype.handleSize=t.mobile?14:7,t.prototype.strokeWidth=2,n=null,t.prototype.pointerOffsetFromShape=null,t.prototype.rescale=function(e){var n,o,r,i,s,a,l;for(t.__super__.rescale.apply(this,arguments),r=this.strokeWidth/e,o=this.handleSize/e,this.outline.attr("strokeWidth",r),a=this.handles,l=[],i=0,s=a.length;s>i;i++)n=a[i],l.push(n.attr({r:o,strokeWidth:r}));return l},t.prototype.onInitialStart=function(e){return t.__super__.onInitialStart.apply(this,arguments),this.startDrag(e),this.mark.set({left:this.startOffset.x,top:this.startOffset.y})},t.prototype.onInitialMove=function(e){return t.__super__.onInitialMove.apply(this,arguments),this.moveAnyHandle(e)},t.prototype.startDrag=function(e){return this.startOffset=this.coords(e),this.shapeOffset={x:this.startOffset.x-this.mark.left,y:this.startOffset.y-this.mark.top}},t.prototype.moveOutline=function(e){var t,n,o;return o=this.coords(e),t=o.x,n=o.y,this.mark.set({left:t-this.shapeOffset.x,top:n-this.shapeOffset.y})},t.prototype.startTopLeftHandle=function(){return this.startOffset={x:this.mark.left+this.mark.width,y:this.mark.top+this.mark.height}},t.prototype.startTopRightHandle=function(){return this.startOffset={x:this.mark.left,y:this.mark.top+this.mark.height}},t.prototype.startBottomRightHandle=function(){return this.startOffset={x:this.mark.left,y:this.mark.top}},t.prototype.startBottomLeftHandle=function(){return this.startOffset={x:this.mark.left+this.mark.width,y:this.mark.top}},t.prototype.moveAnyHandle=function(e){var t,n,o,r;return r=this.coords(e),n=r.x,o=r.y,t=n<this.startOffset.x&&o<this.startOffset.y?"dragFromTopLeft":n>=this.startOffset.x&&o<this.startOffset.y?"dragFromTopRight":n>=this.startOffset.x&&o>=this.startOffset.y?"dragFromBottomRight":n<this.startOffset.x&&o>=this.startOffset.y?"dragFromBottomLeft":void 0,this[t](e)},t.prototype.dragFromTopLeft=function(e){var t,n,o;return o=this.coords(e),t=o.x,n=o.y,t-=this.handleSize/2,n-=this.handleSize/2,this.mark.set({left:t,top:n,width:this.mark.width+(this.mark.left-t),height:this.mark.height+(this.mark.top-n)})},t.prototype.dragFromTopRight=function(e){var t,n,o;
return o=this.coords(e),t=o.x,n=o.y,t+=this.handleSize/2,n-=this.handleSize/2,this.mark.set({top:n,width:t-this.mark.left,height:this.mark.height+(this.mark.top-n)})},t.prototype.dragFromBottomRight=function(e){var t,n,o;return o=this.coords(e),t=o.x,n=o.y,t+=this.handleSize/2,n+=this.handleSize/2,this.mark.set({width:t-this.mark.left,height:n-this.mark.top})},t.prototype.dragFromBottomLeft=function(e){var t,n,o;return o=this.coords(e),t=o.x,n=o.y,t-=this.handleSize/2,n+=this.handleSize/2,this.mark.set({left:t,width:this.mark.width+(this.mark.left-t),height:n-this.mark.top})},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),this.outline.attr({x:this.mark.left,y:this.mark.top,width:this.mark.width,height:this.mark.height}),this.topLeftHandle.attr({cx:this.mark.left,cy:this.mark.top}),this.topRightHandle.attr({cx:this.mark.left+this.mark.width,cy:this.mark.top}),this.bottomRightHandle.attr({cx:this.mark.left+this.mark.width,cy:this.mark.top+this.mark.height}),this.bottomLeftHandle.attr({cx:this.mark.left,cy:this.mark.top+this.mark.height}),null!=(e=this.controls)?e.moveTo([this.mark.left+this.mark.width,this.mark.top]):void 0},t}(o),"undefined"!=typeof window&&null!==window&&(window.MarkingSurface.RectangleTool=n),"undefined"!=typeof t&&null!==t&&(t.exports=n)}).call(this)},{"marking-surface":6}],10:[function(e,t){(function(){var n,o,r,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=("undefined"!=typeof window&&null!==window?window.MarkingSurface:void 0)||e("marking-surface"),o=s.ToolControls,n=s.RectangleTool,r=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.textarea=this.el.querySelector("textarea"),this.addEvent("input","textarea",this.onChangeTextarea)}return l(t,e),t.prototype.template='<textarea style="height: 3em; width: 100%"></textarea>',t.prototype.onChangeTextarea=function(){return this.tool.mark.set("content",this.textarea.value)},t.prototype.onToolSelect=function(){return t.__super__.onToolSelect.apply(this,arguments),this.textarea.style.display=""},t.prototype.onToolDeselect=function(){return t.__super__.onToolDeselect.apply(this,arguments),this.textarea.style.display="none"},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.el.style.width=""+this.tool.mark.width+"px"},t}(o),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.mark.content=""}return l(t,e),t.Controls=r,t.prototype.onInitialRelease=function(){var e;return t.__super__.onInitialRelease.apply(this,arguments),null!=(e=this.controls)?e.textarea.focus():void 0},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),null!=(e=this.controls)?e.moveTo({x:this.mark.left,y:this.mark.top+this.mark.height}):void 0},t}(n),"undefined"!=typeof window&&null!==window&&(window.MarkingSurface.TranscriptionTool=i),"undefined"!=typeof t&&null!==t&&(t.exports=i)}).call(this)},{"marking-surface":6}],11:[function(e,t){(function(){var e,n,o,r,i,s,a;n=function(e,t,n){var o;return o=document.createEvent("CustomEvent"),o.initCustomEvent(t,!0,!0,n),e.dispatchEvent(o)},s=!1,o=function(){return s=!1},r=function(){return s=!0,setTimeout(o,50)},addEventListener("click",r,!1),a={},i=function(){return a[location.hash]={x:pageXOffset,y:pageYOffset}},addEventListener("scroll",i,!1),e=function(){function e(e){var t,n;null==e&&(e={}),null==this.el&&(this.el=document.createElement(this.tagName)),this.el.className=this.className,this.hashes={};for(t in e)n=e[t],"#"===t.charAt(0)||t===this.notFoundKey?this.add(t,n):this[t]=n;addEventListener("hashchange",this,!1),this.onHashChange(),null==this.current&&this["default"]in this.hashes&&this.activate(this.hashes[this["default"]],{initial:!0})}return e.prototype.hashes=null,e.prototype["default"]="#/",e.prototype.changeDisplay=!0,e.prototype.functionsAreConstructors=!0,e.prototype.tagName="div",e.prototype.className="stack-of-pages",e.prototype.activatedAttr="data-active-in-stack",e.prototype.hashRootAttr="data-location-hash",e.prototype.activateEvent="activate-in-stack",e.prototype.deactivateEvent="deactivate-in-stack",e.prototype.notFoundKey="notFound",e.prototype.el=null,e.prototype.current=null,e.prototype.add=function(e,t){var n;if(n=this.findElement(t),null!=n)return null!=e&&(this.hashes[e]=n),this.el.appendChild(n),this.deactivate(n,{initial:!0});throw new Error("Couldn't determine element for "+e)},e.prototype.findElement=function(e){var t,n;return"function"==typeof e&&(e=this.functionsAreConstructors?new e:e.call(this,this)),("string"==(n=typeof e)||"number"===n||"boolean"===n)&&(t=document.createElement("div"),t.innerHTML=e,e=t.children[0]),"el"in e&&(e.el instanceof Element?e=e.el:"jquery"in e.el&&(e=e.el.get(0))),e instanceof Element?e:void 0},e.prototype.handleEvent=function(e){var t;return t=function(){switch(e.type){case"hashchange":return this.onHashChange}}.call(this),null!=t?t.apply(this,arguments):void 0},e.prototype.onHashChange=function(){var e,t,n,o,r,i,l,u,c,p,h,d,f,g,v,m,y,w;e=location.hash||this["default"],!s&&e in a||(a[e]={x:0,y:0}),y=a[e],f=y.x,g=y.y,setTimeout(function(){return scrollTo(f,g)}),n=!1,p={},w=this.hashes;for(o in w){if(t=w[o],h=["hash"],i=o.split("/"),r=function(){var e,t,n;for(n=[],e=0,t=i.length;t>e;e++)switch(d=i[e],d.charAt(0)){case":":h.push(d.slice(1)),n.push("?([^/]*)");break;case"*":h.push("_"),n.push("?(.*)");break;default:n.push(d)}return n}(),p.hashPattern="^"+r.join("/")+"/?$",u=e.match(p.hashPattern),null!=u){for(n=!0,l=v=0,m=h.length;m>v;l=++v)c=h[l],p[c]=u[l];this.activate(t,p),document.body.parentNode.setAttribute(this.hashRootAttr,o)}if(n)break}return!n&&(p.notFound=!0,this.notFoundKey in this.hashes)?this.activate(this.hashes[this.notFoundKey],p):void 0},e.prototype.activate=function(e,t){var o;return null!=this.current&&this.deactivate(this.current,t),this.current=e,e.setAttribute(this.activatedAttr,null!=(o=t.hash)?o:t.initial),this.changeDisplay&&(e.style.display=""),n(e,this.activateEvent,t)},e.prototype.deactivate=function(e,t){return e.removeAttribute(this.activatedAttr),this.changeDisplay&&(e.style.display="none"),n(e,this.deactivateEvent,t)},e.prototype.destroy=function(){return removeEventListener("hashchange",this,!1),this.el.parentNode.removeChild(this.el)},e}(),window.StackOfPages=e,"undefined"!=typeof t&&null!==t&&(t.exports=e)}).call(this)},{}],12:[function(e,t){(function(){var n,o,r,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=null!=(r=window.DecisionTree)?r:e("./decision-tree"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.type="button",t.prototype.chosenButton=null,t.prototype.choiceTemplate=function(e,t){return"<button type='button' name='"+this.key+"' value='"+e.value+"' data-choice-index='"+t+"'>"+e.label+"</button>"},t.prototype.renderTemplate=function(){return t.__super__.renderTemplate.apply(this,arguments),this.el.querySelector(".decision-tree-confirmation").style.display="none"},t.prototype.enter=function(){return t.__super__.enter.apply(this,arguments),this.el.addEventListener("click",this,!1)},t.prototype.exit=function(){return t.__super__.exit.apply(this,arguments),this.el.removeEventListener("click",this,!1)},t.prototype.reset=function(e){var t,n,o,r,i,s,a;if(null!=e){for(s=this.choices,o=r=0,i=s.length;i>r;o=++r)t=s[o],t.value===e&&(n=o);return null!=(a=this.el.querySelector("[data-choice-index='"+n+"']"))?a.focus():void 0}},t.prototype.handleEvent=function(e){return t.__super__.handleEvent.apply(this,arguments),"click"===e.type&&e.target.name===this.key?(this.chosenButton=e.target,this.confirm()):void 0},t.prototype.getValue=function(){var e,t,n;return t=null!=(n=this.chosenButton)?n.getAttribute("data-choice-index"):void 0,e=this.choices[t],null!=e?e.value:void 0},t.prototype.getNext=function(){var e,t,n;return t=null!=(n=this.chosenButton)?n.getAttribute("data-choice-index"):void 0,e=this.choices[t],"next"in e?e.next:this.next},t}(o.Task),o.registerTask(n),o.ButtonTask=n,"undefined"!=typeof t&&null!==t&&(t.exports=n)}).call(this)},{"./decision-tree":14}],13:[function(e,t){(function(){var n,o,r,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=null!=(r=window.DecisionTree)?r:e("./decision-tree"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.type="checkbox",t.prototype.choiceTemplate=function(e,t){return"<label> <input type='checkbox' name='"+this.key+"' value='"+e.value+"' data-choice-index='"+t+"' /> "+e.label+" </label>"},t.prototype.getValue=function(){var e,t,n,o,r,i,s;for(e=this.el.querySelectorAll(":checked"),s=[],r=0,i=e.length;i>r;r++)o=e[r],n=o.getAttribute("data-choice-index"),t=this.choices[n],s.push(t.value);return s},t.prototype.reset=function(e){var t,n,o,r,i,s,a,l,u,c,p,h,d,f;for(h=this.el.querySelectorAll("input:checked"),s=0,u=h.length;u>s;s++)r=h[s],r.checked=!1;if(null!=e){for(f=[],a=0,c=e.length;c>a;a++){for(i=e[a],d=this.choices,o=l=0,p=d.length;p>l;o=++l)t=d[o],t.value===i&&(n=o);f.push(this.el.querySelector("[data-choice-index='"+n+"']").checked=!0)}return f}},t}(o.Task),o.registerTask(n),o.CheckboxTask=n,"undefined"!=typeof t&&null!==t&&(t.exports=n)}).call(this)},{"./decision-tree":14}],14:[function(e,t){(function(){var e,n,o,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s=[].slice;e=function(){function e(){}return e.prototype.dispatchEvent=function(e,t){var n;return n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,t),this.el.dispatchEvent(n)},e}(),o=function(e){function t(e){var t,n;null==e&&(e={});for(t in e)n=e[t],this[t]=n;null==this.choices&&(this.choices=[]),this.createRoot(),this.hide()}return i(t,e),t.type="base",t.prototype.key="",t.prototype.question="",t.prototype.choices=null,t.prototype.next=null,t.prototype.confirmButtonLabel="OK",t.prototype.confirmButtonName="decision-tree-confirm-task",t.prototype.CONFIRM="decision-tree:task-confirm",t.prototype.template=function(){var e,t;return"<div class='decision-tree-question'>"+this.question+"</div> <div class='decision-tree-choices'> "+function(){var n,o,r,i;for(r=this.choices,i=[],t=n=0,o=r.length;o>n;t=++n)e=r[t],i.push("<div class='decision-tree-choice'>"+this.choiceTemplate(e,t)+"</div>");return i}.call(this).join("\n")+" </div> <div class='decision-tree-confirmation'> <button type='button' name='"+this.confirmButtonName+"'>"+this.confirmButtonLabel+"</button> </div>"},t.prototype.choiceTemplate=function(e,t){return"<div>"+t+": "+e.label+" ("+e.value+")</div>"},t.prototype.createRoot=function(){return this.el=document.createElement("div"),this.el.className="decision-tree-task",this.el.setAttribute("data-task-type",this.constructor.type)},t.prototype.renderTemplate=function(){return this.el.innerHTML=this.template(),this.setUpConfirmButton()},t.prototype.setUpConfirmButton=function(){return this.confirmButton=this.el.querySelector("button[name='"+this.confirmButtonName+"']"),this.confirmButton.addEventListener("click",this)},t.prototype.handleEvent=function(e){return"click"===e.type&&e.currentTarget===this.confirmButton?this.confirm():void 0},t.prototype.enter=function(){return this.show(),this.el.addEventListener("click",this,!1)},t.prototype.exit=function(){return this.el.removeEventListener("click",this,!1),this.hide()},t.prototype.show=function(){return this.el.style.display=""},t.prototype.hide=function(){return this.el.style.display="none"},t.prototype.confirm=function(){return this.dispatchEvent(this.CONFIRM,this.getValue())},t.prototype.getValue=function(){throw new Error("Define Task::getValue for "+this.constructor.type)},t.prototype.getNext=function(){return this.next},t.prototype.reset=function(){throw new Error("Define Task::reset for "+this.constructor.type)},t}(e),n=function(e){function t(e){var t,n,o,r;null==e&&(e={}),this.taskTypes=Object.create(this.constructor.taskTypes),this.taskChain=[],this.valueChain=[];for(t in e)if(r=e[t],"tasks"===t)this.tasks=Object.create(r);else if("taskTypes"===t)for(o in r)n=r[o],this.registerTask(o,n);else this[t]=r;this.createRoot(),this.name&&this.createInput(),this.createBackButton(),this.addTasks(),this.reset()}return i(t,e),t.taskTypes={},t.registerTask=function(){var e,t,n,o;return n=2<=arguments.length?s.call(arguments,0,o=arguments.length-1):(o=0,[]),e=arguments[o++],t=n[0],null==t&&(t=e.type),this.taskTypes[t]=e},t.prototype.name="",t.prototype.tasks=null,t.prototype.firstTask=null,t.prototype.backLabel="Back",t.prototype.LOAD_TASK="decision-tree:load-task",t.prototype.CHANGE="decision-tree:change-values",t.prototype.COMPLETE="decision-tree:complete-tree",t.prototype.RESET="decision-tree:reset-tree",t.prototype.currentTask=null,t.prototype.taskChain=null,t.prototype.valueChain=null,t.prototype.registerTask=t.registerTask,t.prototype.createRoot=function(){return this.el=document.createElement("div"),this.el.className="decision-tree",this.el.addEventListener("change",this,!1),this.el.addEventListener(o.prototype.CONFIRM,this,!1)},t.prototype.createInput=function(){return this.input=document.createElement("input"),this.name&&(this.input.name=this.name),this.el.appendChild(this.input)},t.prototype.createBackButton=function(){return this.backButton=document.createElement("button"),this.backButton.type="button",this.backButton.name="decision-tree-go-back",this.backButton.innerHTML=this.backLabel,this.backButton.addEventListener("click",this,!1),this.el.appendChild(this.backButton)},t.prototype.addTasks=function(){var e,t,n,r;n=this.tasks,r=[];for(t in n){if(e=n[t],!(e instanceof o)){if(null==this.taskTypes[e.type])throw new Error("No registered task "+e.type);e=new this.taskTypes[e.type](e),this.tasks[t]=e}e.key||(e.key=t),e.renderTemplate(),r.push(this.el.appendChild(e.el))}return r},t.prototype.handleEvent=function(e){var t;return"click"===e.type&&e.currentTarget===this.backButton?this.goBack():(t=function(){switch(e.type){case"change":return this.handleChange;case o.prototype.CONFIRM:return this.handleTaskConfirm}}.call(this),null!=t?t.call(this,e):void 0)},t.prototype.handleChange=function(){return this.syncCurrentValue(this.currentTask.getValue())},t.prototype.handleTaskConfirm=function(e){var t;return this.syncCurrentValue(e.detail),this.loadTask(null!=(t=this.currentTask)?t.getNext():void 0)},t.prototype.loadTask=function(e,t){var n;return null!=(n=this.currentTask)&&n.exit(),this.currentTask=null,"function"==typeof e?this.loadTask(e,t):"string"==typeof e?this.loadTask(this.tasks[e],t):null!=e?(this.currentTask=e,this.currentTask.reset(t),this.taskChain.push(this.currentTask.key),this.valueChain.push(this.currentTask.getValue()),this.currentTask.enter(),this.backButton.disabled=1===this.taskChain.length,this.dispatchEvent(this.LOAD_TASK,{task:this.currentTask,index:this.taskChain.length-1}),this.syncCurrentValue(this.valueChain[this.valueChain.length-1])):this.complete()},t.prototype.goBack=function(){return 1!==this.taskChain.length?(this.taskChain.pop(),this.valueChain.pop(),this.loadTask(this.taskChain.pop(),this.valueChain.pop())):void 0},t.prototype.complete=function(){return this.dispatchEvent(this.COMPLETE,{value:this.getValues()})},t.prototype.syncCurrentValue=function(e){var t,n;return this.valueChain[this.valueChain.length-1]=e,null!=(t=this.input)&&(t.value=JSON.stringify(this.getValues())),this.dispatchEvent(this.CHANGE,{key:null!=(n=this.currentTask)?n.key:void 0,value:this.valueChain[this.valueChain.length-1]})},t.prototype.getValues=function(){var e,t,n,o,r,i,s,a;for(i=this.taskChain,a=[],e=o=0,r=i.length;r>o;e=++o)t=i[e],n={},n[t]=null!=(s=this.valueChain[e])?s:null,a.push(n);return a},t.prototype.reset=function(e){var t,n,o;null==e&&(e=this.firstTask),o=this.tasks;for(n in o)t=o[n],t.reset();return this.taskChain.splice(0),this.valueChain.splice(0),this.dispatchEvent(this.RESET),null!=e?this.loadTask(e):this.syncCurrentValue()},t}(e),n.Task=o,window.DecisionTree=n,"undefined"!=typeof t&&null!==t&&(t.exports=n)}).call(this)},{}],15:[function(e,t){(function(){var n,o,r,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=null!=(r=window.DecisionTree)?r:e("./decision-tree"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.type="radio",t.prototype.choiceTemplate=function(e,t){return"<label> <input type='radio' name='"+this.key+"' value='"+e.value+"' data-choice-index='"+t+"'' /> "+e.label+" </label>"},t.prototype.getChoice=function(){var e,t;return e=this.el.querySelector(":checked"),t=null!=e?e.getAttribute("data-choice-index"):void 0,this.choices[t]},t.prototype.getValue=function(){var e;return null!=(e=this.getChoice())?e.value:void 0},t.prototype.getNext=function(){var e,n;return e=this.getChoice(),n=null!=e&&"next"in e?e.next:t.__super__.getNext.apply(this,arguments)},t.prototype.reset=function(e){var t,n,o,r,i,s,a;if(null!=(s=this.el.querySelector("input:checked"))&&(s.checked=!1),null!=e){for(a=this.choices,o=r=0,i=a.length;i>r;o=++r)t=a[o],t.value===e&&(n=o);return this.el.querySelector("[data-choice-index='"+n+"']").checked=!0}},t}(n.Task),n.registerTask(o),n.RadioTask=o,"undefined"!=typeof t&&null!==t&&(t.exports=o)}).call(this)},{"./decision-tree":14}],16:[function(e,t){(function(){var n,o,r,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u=[].slice;null==window.zooniverse&&(window.zooniverse={}),null==(s=window.zooniverse).controllers&&(s.controllers={}),r=window.zooniverse.EventEmitter||e("../lib/event-emitter"),n=window.jQuery,i=0,o=function(e){function t(e){var o,r;null==e&&(e={}),t.__super__.constructor.apply(this,arguments);for(o in e)a.call(e,o)&&(r=e[o],o in this&&(this[o]=r));this.id||(this.id="controller_"+i),i+=1,null==this.el&&(this.el=document.createElement(this.tagName)),this.el=n(this.el),this.renderTemplate(),this.delegateEvents(),this.nameElements()}return l(t,e),t.prototype.el=null,t.prototype.tagName="div",t.prototype.className="",t.prototype.template=null,t.prototype.id="",t.prototype.events=null,t.prototype.elements=null,t.prototype.renderTemplate=function(){return this.className&&this.el.addClass(this.className),this.el.html()||("string"==typeof this.template&&this.el.html(this.template),"function"!=typeof this.template)?void 0:this.el.html(this.template(this))},t.prototype.nameElements=function(){var e,t,n,o;if(null!=this.elements){n=this.elements,o=[];for(t in n)e=n[t],o.push(this[e]=this.el.find(t));return o}},t.prototype.delegateEvents=function(){var e,t,n,o,r=this;if(this.el.off("."+this.id),null!=this.events){n=this.events,o=[];for(e in n)t=n[e],o.push(function(e,t){var n,o,i,s;return s=e.split(/\s+/),o=s[0],i=2<=s.length?u.call(s,1):[],i=i.join(" "),"*"===o.slice(-1)&&(o=o.slice(0,-1),n=!0),"string"==typeof t&&(t=r[t]),r.el.on(""+o+"."+r.id,i,function(e){return n&&e.preventDefault(),t.call.apply(t,[r].concat(u.call(arguments)))})}(e,t));return o}},t.prototype.destroy=function(){var e,n,o;if(null!=this.elements){o=this.elements;for(n in o)e=o[n],this[e]=null}return this.el.off(),this.el.empty(),this.el.remove(),t.__super__.destroy.apply(this,arguments)},t}(r),window.zooniverse.controllers.BaseController=o,"undefined"!=typeof t&&null!==t&&(t.exports=o)}).call(this)},{"../lib/event-emitter":29}],17:[function(e,t){(function(){var n,o,r,i,s,a,l={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var o in t)l.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};null==window.zooniverse&&(window.zooniverse={}),null==(s=window.zooniverse).controllers&&(s.controllers={}),null==(a=window.zooniverse).views&&(a.views={}),n=zooniverse.controllers.BaseController||e("./base-controller"),r=zooniverse.views.dialog||e("../views/dialog"),i=zooniverse.translate||e("../lib/translate"),o=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.el.css({display:"none"}),this.warning&&this.el.addClass("warning"),this.error&&this.el.addClass("error"),this.contentContainer.append(this.content),this.el.appendTo(document.body)}return u(t,e),t.prototype.warning=!1,t.prototype.error=!1,t.prototype.content="",t.prototype.className="zooniverse-dialog",t.prototype.template=r,t.prototype.events={'click button[name="close-dialog"]':"hide",keydown:"onKeyDown"},t.prototype.elements={".dialog":"contentContainer"},t.prototype.onKeyDown=function(e){var t;return t=e.which,27===t?this.hide():void 0},t.prototype.show=function(){var e,t,n,o,r=this;for(o=this.el.get(0).querySelectorAll("["+i.attr+"]"),t=0,n=o.length;n>t;t++)e=o[t],i.refresh(e);return this.el.css({display:""}),setTimeout(function(){return r.el.addClass("showing")}),this.contentContainer.find("input, textarea, select").first().focus()},t.prototype.hide=function(){var e=this;return this.el.removeClass("showing"),setTimeout(function(){return e.el.css({display:"none"})},500)},t}(n),window.zooniverse.controllers.Dialog=o,"undefined"!=typeof t&&null!==t&&(t.exports=o)}).call(this)},{"../lib/translate":31,"../views/dialog":47,"./base-controller":16}],18:[function(e,t){(function(){var n,o,r,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};o=(null!=(i=zooniverse.util)?i.toggleClass:void 0)||e("../util/toggle-class"),n=function(){function e(e){var t,n;null==e&&(e={}),this.onResize=s(this.onResize,this),this.onButtonClick=s(this.onButtonClick,this),window.dropdown=this;for(t in e)n=e[t],this[t]=n;null==this.button&&(this.button=document.createElement(this.buttonTag)),o(this.button,this.constructor.buttonClass,!0),this.className&&o(this.button,this.className,!0),this.button.addEventListener("click",this.onButtonClick,!1),null==this.menu&&(this.menu=document.createElement(this.menuTag)),o(this.menu,this.constructor.menuClass,!0),this.menuClass&&o(this.menu,this.menuClass,!0),this.menu.style.position="absolute",this.menu.style.display="none",document.body.appendChild(this.menu),this.close(),this.constructor.instances.push(this),this.constructor.elements.push(this.button),this.constructor.elements.push(this.menu)}return e.buttonClass="zooniverse-dropdown-button",e.menuClass="zooniverse-dropdown-menu",e.instances=[],e.elements=[],e.closeAll=function(e){var t,n,o,r,i,s;for(t=(null!=e?e:{}).except,i=this.instances,s=[],o=0,r=i.length;r>o;o++)n=i[o],s.push(n!==t?n.close():void 0);return s},addEventListener("mousedown",function(t){var n,o;for(o=!0,n=t.target.correspondingUseElement||t.target;null!=n;){if(a.call(e.elements,n)>=0){o=!1;break}n=n.parentNode}return o?e.closeAll():void 0}),e.prototype.button=null,e.prototype.buttonClass="",e.prototype.buttonTag="button",e.prototype.menu=null,e.prototype.menuClass="",e.prototype.menuTag="div",e.prototype.buttonPinning=[.5,1],e.prototype.menuPinning=[.5,0],e.prototype._open=null,e.prototype.openClass="open",e.prototype.animationDelay=250,e.prototype.onButtonClick=function(){return this.toggle()},e.prototype.toggle=function(){return this._open?this.close():this.open()},e.prototype.open=function(){var e=this;return this.constructor.closeAll({except:this}),o(this.button,this.openClass,!0),this.menu.style.display="",this.positionMenu(),setTimeout(function(){return o(e.menu,e.openClass,!0),e._open=!0}),addEventListener("resize",this.onResize,!1)},e.prototype.positionMenu=function(){var e;return e=this.button.getBoundingClientRect(),this.menu.style.left=e.left+pageXOffset+this.button.offsetWidth*this.buttonPinning[0]-this.menu.offsetWidth*this.menuPinning[0]+"px",this.menu.style.top=e.top+pageYOffset+this.button.offsetHeight*this.buttonPinning[1]-this.menu.offsetHeight*this.menuPinning[1]+"px"},e.prototype.onResize=function(){return this.positionMenu()},e.prototype.close=function(){var e=this;return o(this.button,this.openClass,!1),o(this.menu,this.openClass,!1),setTimeout(function(){return e.menu.style.display="none",e._open=!1},this.animationDelay),removeEventListener("resize",this.onResize,!1)},e.prototype.destroy=function(){var e,t;return this.constructor.instances.splice(this.constructor.instances.indexOf(this),1),this.constructor.elements.splice(this.constructor.instances.indexOf(this.button),1),this.constructor.elements.splice(this.constructor.instances.indexOf(this.menu),1),this.button.removeEventListener("click",this.onButtonClick,!1),null!=(e=this.button.parentNode)&&e.removeChild(this.button),null!=(t=this.menu.parentNode)?t.removeChild(this.menu):void 0},e}.call(this),null==window.zooniverse&&(window.zooniverse={}),null==(r=window.zooniverse).controllers&&(r.controllers={}),window.zooniverse.controllers.Dropdown=n,"undefined"!=typeof t&&null!==t&&(t.exports=n)}).call(this)},{"../util/toggle-class":45}],19:[function(e,t){(function(){var n,o,r,i,s,a,l,u,c,p,h,d,f,g,v,m=function(e,t){return function(){return e.apply(t,arguments)}},y={}.hasOwnProperty,w=function(e,t){function n(){this.constructor=e}for(var o in t)y.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=(null!=(u=window.zooniverse)&&null!=(c=u.controllers)?c.BaseController:void 0)||e("./base-controller"),s=(null!=(p=window.zooniverse)&&null!=(h=p.models)?h.User:void 0)||e("../models/user"),a=(null!=(d=window.zooniverse)&&null!=(f=d.views)?f.groupsMenu:void 0)||e("../views/groups-menu"),n=window.jQuery,r=(null!=(g=window.zooniverse)&&null!=(v=g.controllers)?v.Dropdown:void 0)||e("./dropdown"),i=function(e){function t(){this.onUserChangeGroup=m(this.onUserChangeGroup,this),this.onUserChange=m(this.onUserChange,this),t.__super__.constructor.apply(this,arguments),s.on("change",this.onUserChange),s.on("change-group",this.onUserChangeGroup)}return w(t,e),t.prototype.className="zooniverse-groups-menu",t.prototype.events={'click button[name="user-group"]':"onClickGroupButton"},t.prototype.onUserChange=function(e,t){return null!=t&&(this.el.html(a(t)),t.user_group_id)?this.el.find("button[name='"+t.user_group_id+"']").click():void 0},t.prototype.onUserChangeGroup=function(e,t,n){var o;return o=this.el.find('button[name="user-group"]'),o.removeClass("active"),null!=n?o.filter("[value='"+n.id+"']").addClass("active"):void 0},t.prototype.onClickGroupButton=function(e){var t,o;return t=n(e.currentTarget),null!=(o=s.current)&&o.setGroup(t.val()||"TODO_HOW_DO_I_STOP_CLASSIFYING_AS_PART_OF_A_GROUP"),r.closeAll()},t}(o),null==window.zooniverse&&(window.zooniverse={}),null==(l=window.zooniverse).controllers&&(l.controllers={}),window.zooniverse.controllers.GroupsMenu=i,"undefined"!=typeof t&&null!==t&&(t.exports=i)}).call(this)},{"../models/user":37,"../views/groups-menu":49,"./base-controller":16,"./dropdown":18}],20:[function(e,t){(function(){var n,o,r,i,s,a,l,u,c,p,h,d,f,g=function(e,t){return function(){return e.apply(t,arguments)}},v={}.hasOwnProperty,m=function(e,t){function n(){this.constructor=e}for(var o in t)v.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=(null!=(l=window.zooniverse)&&null!=(u=l.controllers)?u.BaseController:void 0)||e("./base-controller"),o=(null!=(c=window.zooniverse)&&null!=(p=c.controllers)?p.Dropdown:void 0)||e("./dropdown"),r=(null!=(h=window.zooniverse)?h.LanguageManager:void 0)||e("../lib/language-manager"),s=(null!=(d=window.zooniverse)&&null!=(f=d.views)?f.languagesMenu:void 0)||e("../views/languages-menu"),i=function(e){function t(){this.onClickLanguageButton=g(this.onClickLanguageButton,this);var e,n=this;t.__super__.constructor.apply(this,arguments),null!=(e=r.current)&&e.on("change-language",function(e,t){return n.setLanguageButton(t)})}return m(t,e),t.prototype.className="zooniverse-languages-menu",t.prototype.template=s,t.prototype.events={'click button[name="language"]':"onClickLanguageButton"},t.prototype.onClickLanguageButton=function(e){var t;return null!=(t=r.current)&&t.setLanguage(e.currentTarget.value),o.closeAll()},t.prototype.setLanguageButton=function(e){var t,n;return n=this.el.find('button[value="'+e+'"]'),0!==n.length?(t=this.el.find('button[name="language"]'),t.removeClass("active"),n.addClass("active")):void 0},t}(n),null==window.zooniverse&&(window.zooniverse={}),null==(a=window.zooniverse).controllers&&(a.controllers={}),window.zooniverse.controllers.LanguagesMenu=i,"undefined"!=typeof t&&null!==t&&(t.exports=i)}).call(this)},{"../lib/language-manager":30,"../views/languages-menu":50,"./base-controller":16,"./dropdown":18}],21:[function(e,t){(function(){var n,o,r,i,s,a;null==window.zooniverse&&(window.zooniverse={}),null==(a=window.zooniverse).controllers&&(a.controllers={}),n=zooniverse.controllers.Dialog||e("./dialog"),o=zooniverse.controllers.LoginForm||e("./login-form"),s=zooniverse.views.loginDialog||e("../views/login-dialog"),r=zooniverse.models.User||e("../models/user"),i=new n({content:new o({template:s}).el}),r.on("change",function(e,t){return null!=t?i.hide():void 0}),window.zooniverse.controllers.loginDialog=i,"undefined"!=typeof t&&null!==t&&(t.exports=i)}).call(this)},{"../models/user":37,"../views/login-dialog":51,"./dialog":17,"./login-form":22}],22:[function(e,t){(function(){var n,o,r,i,s,a,l,u,c,p,h={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var o in t)h.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};null==window.zooniverse&&(window.zooniverse={}),null==(u=window.zooniverse).controllers&&(u.controllers={}),null==(c=window.zooniverse).views&&(c.views={}),null==(p=window.zooniverse).models&&(p.models={}),o=zooniverse.controllers.BaseController||e("./base-controller"),a=zooniverse.views.loginForm||e("../views/login-form"),n=zooniverse.Api||e("../lib/api"),i=zooniverse.models.User||e("../models/user"),l=zooniverse.translate||e("../lib/translate"),s=zooniverse.controllers.signupDialog||e("./signup-dialog"),r=function(e){function t(){var e=this;t.__super__.constructor.apply(this,arguments),i.on("change",function(){return e.onUserChange.apply(e,arguments)})}return d(t,e),t.prototype.tagName="form",t.prototype.className="zooniverse-login-form",t.prototype.template=a,t.prototype.events={"submit*":"onSubmit",'click* button[name="sign-up"]':"onClickSignUp",'click* button[name="sign-out"]':"onClickSignOut"},t.prototype.elements={'input[name="username"]':"usernameInput",'input[name="password"]':"passwordInput",'button[type="submit"]':"signInButton",'button[name="sign-out"]':"signOutButton",".error-message":"errorContainer"},t.prototype.onSubmit=function(){var e,t=this;return this.el.addClass("loading"),this.signInButton.attr({disabled:!0}),e=i.login({username:this.usernameInput.val(),password:this.passwordInput.val()}),e.done(function(e){var n,o;return o=e.success,n=e.message,o?void 0:t.showError(n)}),e.fail(function(){return t.showError(l("signInFailed"))}),e.always(function(){return t.el.removeClass("loading"),setTimeout(function(){return t.signInButton.attr({disabled:null!=i.current})})})},t.prototype.onClickSignUp=function(){return s.show()},t.prototype.onClickSignOut=function(){return this.signOutButton.attr({disabled:!0}),i.logout()},t.prototype.onUserChange=function(e,t){return this.usernameInput.val((null!=t?t.name:void 0)||""),this.passwordInput.val((null!=t?t.api_key:void 0)||""),this.errorContainer.html(""),this.usernameInput.attr({disabled:null!=i.current}),this.passwordInput.attr({disabled:null!=i.current}),this.signInButton.attr({disabled:null!=i.current}),this.signOutButton.attr({disabled:null==i.current})
},t.prototype.showError=function(e){return this.errorContainer.html(e)},t}(o),window.zooniverse.controllers.LoginForm=r,"undefined"!=typeof t&&null!==t&&(t.exports=r)}).call(this)},{"../lib/api":28,"../lib/translate":31,"../models/user":37,"../views/login-form":52,"./base-controller":16,"./signup-dialog":25}],23:[function(e,t){(function(){var n,o,r,i,s,a,l,u=function(e,t){return function(){return e.apply(t,arguments)}},c={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};null==window.zooniverse&&(window.zooniverse={}),null==(a=window.zooniverse).controllers&&(a.controllers={}),null==(l=window.zooniverse).views&&(l.views={}),o=window.zooniverse.controllers.BaseController||e("./base-controller"),s=window.zooniverse.views.paginator||e("../views/paginator"),i=window.zooniverse.models.User||e("../models/user"),n=window.jQuery,r=function(e){function t(){this.onItemDestroyed=u(this.onItemDestroyed,this),this.onItemFromClassification=u(this.onItemFromClassification,this),this.onFetchFail=u(this.onFetchFail,this),this.onFetch=u(this.onFetch,this),this.onUserChange=u(this.onUserChange,this),t.__super__.constructor.apply(this,arguments),i.on("change",this.onUserChange),this.type.on("from-classification",this.onItemFromClassification),this.type.on("destroy",this.onItemDestroyed)}return p(t,e),t.prototype.type=null,t.prototype.itemTemplate=null,t.prototype.className="zooniverse-paginator",t.prototype.template=s,t.prototype.pages=0,t.prototype.perPage=10,t.prototype.events={'click button[name="page"]':"onClickPage"},t.prototype.elements={".items":"itemsContainer",".numbered":"numbersContainer"},t.prototype.onUserChange=function(e,t){var n;return this.reset((null!=t&&null!=(n=t.project)?n.classification_count:void 0)||0),this.onFetch([]),null!=t?this.goTo(1):void 0},t.prototype.reset=function(e){var t,o,r,i,s;for(this.pages=Math.ceil(e/this.perPage),this.numbersContainer.empty(),s=[],o=r=0,i=this.pages;i>=0?i>r:r>i;o=i>=0?++r:--r)t=n("<button name='page' value='"+(o+1)+"'>"+(o+1)+"</button>"),s.push(this.numbersContainer.append(t));return s},t.prototype.onClickPage=function(e){var t,o;return o=e.target,t=+n(o).val(),this.goTo(t)},t.prototype.goTo=function(e){var t,n=this;return e=Math.max(e,1),this.el.removeClass("failed"),this.numbersContainer.children().removeClass("active"),this.numbersContainer.children("[value='"+e+"']").addClass("active"),this.el.addClass("loading"),t=this.type.fetch({page:e,per_page:this.perPage}),t.then(this.onFetch,this.onFetchFail),t.always(function(){return n.el.removeClass("loading")})},t.prototype.onFetch=function(e){var t,n,o,r,i;for(this.itemsContainer.empty(),this.el.toggleClass("empty",0===e.length),i=[],o=0,r=e.length;r>o;o++)t=e[o],n=this.getItemEl(t),i.push(n.prependTo(this.itemsContainer));return i},t.prototype.getItemEl=function(e){var t,o,r,i;return o=this.itemsContainer.find("[data-item-id='"+e.id+"']"),0===o.length&&(t=null!=this.itemTemplate?this.itemTemplate(e):"<div class='item'><a href=\""+((null!=(r=e.subjects[0])?r.talkHref():void 0)||"#/SUBJECT-ERROR")+'">'+((null!=(i=e.subjects[0])?i.zooniverse_id:void 0)||"Error in subject")+"</a></div>",o=n(n.trim(t)),o.attr({"data-item-id":e.id})),o},t.prototype.onFetchFail=function(){return this.el.addClass("failed")},t.prototype.onItemFromClassification=function(e,t){var n,o;if(n=this.getItemEl(t),n.addClass("new"),n.prependTo(this.itemsContainer),this.itemsContainer.children().length>this.perPage){for(o=[];this.itemsContainer.children().length!==this.perPage;)o.push(this.itemsContainer.children().last().remove());return o}},t.prototype.onItemDestroyed=function(e,t){return this.getItemEl(t).remove()},t}(o),window.zooniverse.controllers.Paginator=r,"undefined"!=typeof t&&null!==t&&(t.exports=r)}).call(this)},{"../models/user":37,"../views/paginator":54,"./base-controller":16}],24:[function(e,t){(function(){var n,o,r,i,s,a,l,u,c,p,h,d,f={}.hasOwnProperty,g=function(e,t){function n(){this.constructor=e}for(var o in t)f.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};null==window.zooniverse&&(window.zooniverse={}),null==(h=window.zooniverse).controllers&&(h.controllers={}),null==(d=window.zooniverse).views&&(d.views={}),o=zooniverse.controllers.BaseController||e("./base-controller"),p=zooniverse.views.profile||e("../views/profile"),i=zooniverse.controllers.LoginForm||e("zooniverse/controllers/login-form"),s=zooniverse.controllers.Paginator||e("./paginator"),l=zooniverse.models.Recent||e("../models/recent"),r=zooniverse.models.Favorite||e("../models/favorite"),c=zooniverse.views.profileItem||e("../views/profile-item"),u=zooniverse.models.User||e("../models/user"),n=window.jQuery,a=function(e){function t(){var e=this;t.__super__.constructor.apply(this,arguments),this.loginForm=new i({el:this.el.find(".sign-in-form")}),this.recentsList=new s({type:l,perPage:12,className:""+s.prototype.className+" recents",el:this.el.find(".recents"),itemTemplate:this.recentTemplate}),this.favoritesList=new s({type:r,perPage:12,className:""+s.prototype.className+" favorites",el:this.el.find(".favorites"),itemTemplate:this.favoriteTemplate}),u.on("change",function(){return e.onUserChange.apply(e,arguments)})}return g(t,e),t.prototype.className="zooniverse-profile",t.prototype.template=p,t.prototype.recentTemplate=c,t.prototype.favoriteTemplate=c,t.prototype.loginForm=null,t.prototype.recentsList=null,t.prototype.favoritesList=null,t.prototype.events={'click button[name="unfavorite"]':"onClickUnfavorite",'click button[name="turn-page"]':"onTurnPage"},t.prototype.elements={nav:"navigation",'button[name="turn-page"]':"pageTurners"},t.prototype.onUserChange=function(e,t){return this.el.toggleClass("signed-in",null!=t),this.pageTurners.first().click()},t.prototype.onClickUnfavorite=function(e){var t,o,i;return i=n(e.currentTarget),o=i.val(),t=r.find(o),t["delete"](),i.parents("[data-item-id]").first().remove()},t.prototype.onTurnPage=function(e){return this.turnPage(n(e.currentTarget).val())},t.prototype.turnPage=function(e){return this.pageTurners.removeClass("active"),this.pageTurners.filter('[value="'+e+'"]').first().addClass("active"),this.recentsList.el.add(this.favoritesList.el).removeClass("active"),this[""+e+"List"].el.addClass("active")},t}(o),window.zooniverse.controllers.Profile=a,"undefined"!=typeof t&&null!==t&&(t.exports=a)}).call(this)},{"../models/favorite":34,"../models/recent":35,"../models/user":37,"../views/profile":56,"../views/profile-item":55,"./base-controller":16,"./paginator":23,"zooniverse/controllers/login-form":22}],25:[function(e,t){(function(){var n,o,r,i,s,a,l,u;null==window.zooniverse&&(window.zooniverse={}),null==(a=window.zooniverse).controllers&&(a.controllers={}),null==(l=window.zooniverse).views&&(l.views={}),null==(u=window.zooniverse).models&&(u.models={}),n=zooniverse.controllers.Dialog||e("./dialog"),o=zooniverse.controllers.SignupForm||e("./signup-form"),s=zooniverse.views.signupDialog||e("../views/signup-dialog"),r=zooniverse.models.User||e("../models/user"),i=new n({content:new o({template:s}).el}),r.on("change",function(e,t){return null!=t?i.hide():void 0}),window.zooniverse.controllers.signupDialog=i,"undefined"!=typeof t&&null!==t&&(t.exports=i)}).call(this)},{"../models/user":37,"../views/signup-dialog":57,"./dialog":17,"./signup-form":26}],26:[function(e,t){(function(){var n,o,r,i,s,a,l,u,c={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};null==window.zooniverse&&(window.zooniverse={}),null==(a=window.zooniverse).controllers&&(a.controllers={}),null==(l=window.zooniverse).models&&(l.models={}),o=zooniverse.controllers.BaseController||e("./base-controller"),i=zooniverse.models.User||e("../models/user"),s=zooniverse.translate||e("../lib/translate"),n="beta_opt_in",r=function(e){function t(){return u=t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.tagName="form",t.prototype.className="zooniverse-signup-form",t.prototype.events={"submit*":"onSubmit"},t.prototype.elements={'input[name="username"]':"usernameInput",'input[name="password"]':"passwordInput",'input[name="email"]':"emailInput",'input[name="real-name"]':"realNameInput",'input[name="beta-preference"]':"betaPreferenceInput",'button[type="submit"]':"signUpButton",".error-message":"errorContainer"},t.prototype.onSubmit=function(){var e,t=this;return this.el.addClass("loading"),this.signUpButton.attr({disabled:!0}),e=i.signup({username:this.usernameInput.val(),password:this.passwordInput.val(),email:this.emailInput.val(),real_name:this.realNameInput.val()}),e.done(function(e){var o,r,s;return r=e.success,o=e.message,r||t.showError(o),null!=(s=i.current)?s.setPreference(n,t.betaPreferenceInput.prop("checked"),!0):void 0}),e.fail(function(){return t.showError(s("signInFailed"))}),e.always(function(){return t.el.removeClass("loading"),t.signUpButton.attr({disabled:!1})})},t.prototype.showError=function(e){return this.errorContainer.html(e)},t}(o),window.zooniverse.controllers.SignupForm=r,"undefined"!=typeof t&&null!==t&&(t.exports=r)}).call(this)},{"../lib/translate":31,"../models/user":37,"./base-controller":16}],27:[function(e,t){(function(){var n,o,r,i,s,a,l,u,c,p,h,d,f,g,v,m,y=function(e,t){return function(){return e.apply(t,arguments)}},w={}.hasOwnProperty,_=function(e,t){function n(){this.constructor=e}for(var o in t)w.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};null==window.zooniverse&&(window.zooniverse={}),null==(f=window.zooniverse).controllers&&(f.controllers={}),null==(g=window.zooniverse).views&&(g.views={}),null==(v=window.zooniverse).lib&&(v.lib={}),null==(m=window.zooniverse).models&&(m.models={}),o=zooniverse.controllers.BaseController||e("./base-controller"),p=zooniverse.controllers.loginDialog||e("./login-dialog"),h=zooniverse.controllers.signupDialog||e("./signup-dialog"),d=zooniverse.views.topBar||e("../views/top-bar"),r=zooniverse.controllers.Dropdown||e("./dropdown"),i=zooniverse.controllers.GroupsMenu||e("./groups-menu"),s=zooniverse.LanguageManager||e("../lib/language-manager"),a=zooniverse.controllers.LanguagesMenu||e("./languages-menu"),n=zooniverse.Api||e("../lib/api"),u=zooniverse.models.User||e("../models/user"),c="http://talk."+location.hostname.replace(/^www\./,"")+"/#/profile",l=function(e){function t(){this.onLanguageChange=y(this.onLanguageChange,this),this.onUserChangeGroup=y(this.onUserChangeGroup,this),this.getMessages=y(this.getMessages,this),this.onUserChange=y(this.onUserChange,this),t.__super__.constructor.apply(this,arguments),this.groupsMenu=new i,this.groupsDropdown=new r({button:this.groupsMenuButton.get(0),buttonPinning:[1,1],menu:this.groupsMenu.el.get(0),menuClass:"from-top-bar",menuPinning:[1,0]}),this.el.toggleClass("has-languages",null!=s.current),null!=s.current&&(this.onLanguageChange(),s.on("change-language",this.onLanguageChange),this.languagesMenu=new a,this.languagesDropdown=new r({button:this.languagesMenuButton.get(0),buttonPinning:[1,1],menu:this.languagesMenu.el.get(0),menuClass:"from-top-bar",menuPinning:[1,0]})),u.on("change",this.onUserChange),u.on("change-group",this.onUserChangeGroup)}return _(t,e),t.prototype.className="zooniverse-top-bar",t.prototype.template=d,t.prototype.messageCheckTimeout=12e4,t.prototype.talkProfileHref=c,t.prototype.events={'click button[name="sign-in"]':"onClickSignIn",'click button[name="sign-up"]':"onClickSignUp",'click button[name="sign-out"]':"onClickSignOut"},t.prototype.elements={".current-user-name":"currentUserName",'button[name="groups"]':"groupsMenuButton",'button[name="languages-menu-toggle"]':"languagesMenuButton",".message-count":"messageCount",".avatar img":"avatarImage",".group":"currentGroup"},t.prototype.onClickSignIn=function(){return h.hide(),p.show()},t.prototype.onClickSignUp=function(){return p.hide(),h.show()},t.prototype.onClickSignOut=function(){return u.logout()},t.prototype.onUserChange=function(e,t){var n;return this.el.toggleClass("signed-in",null!=t),this.el.toggleClass("has-groups",(null!=t&&null!=(n=t.user_groups)?n.length:void 0)>0),this.onUserChangeGroup(e,null!=t,null!=t?t.user_group_id:void 0),this.getMessages(),this.currentUserName.html((null!=t?t.name:void 0)||""),this.avatarImage.attr({src:null!=t?t.avatar:void 0})},t.prototype.getMessages=function(){var e=this;return null!=u.current?n.current.get("/talk/messages/count",function(t){return e.el.toggleClass("has-messages",0!==t),e.messageCount.html(t),setTimeout(e.getMessages,e.messageCheckTimeout)}):(this.el.removeClass("has-messages"),this.messageCount.html("0"))},t.prototype.onUserChangeGroup=function(e,t,n){return this.el.toggleClass("group-participant",null!=n)},t.prototype.onLanguageChange=function(){var e;return this.languagesMenuButton.html(null!=(e=s.current)?e.languageLabel():void 0)},t}(o),window.zooniverse.controllers.TopBar=l,"undefined"!=typeof t&&null!==t&&(t.exports=l)}).call(this)},{"../lib/api":28,"../lib/language-manager":30,"../models/user":37,"../views/top-bar":58,"./base-controller":16,"./dropdown":18,"./groups-menu":19,"./languages-menu":20,"./login-dialog":21,"./signup-dialog":25}],28:[function(e,t){(function(){var n,o,r,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a=[].slice;null==window.zooniverse&&(window.zooniverse={}),r=window.zooniverse.EventEmitter||e("./event-emitter"),n=window.jQuery,o=function(e){function t(e){var n,o,r,i;i=null!=e?e:{},this.project=i.project,n=i.host,r=i.path,o=i.loadTimeout,t.__super__.constructor.apply(this,arguments),this.trigger("ready"),this.select()}return s(t,e),t.current=null,t.prototype.project=".",t.prototype.headers={},t.prototype.proxyFrame=null,t.prototype.get=function(){var e,t;return t=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],console.log("url is "+t+" arguments are ",e),n.getJSON(t,e)},t.prototype.getJSON=function(){var e,t;return t=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],console.log("url is "+t+" args are ",e),n.getJSON(t,e)},t.prototype.post=function(){return console.log("args are ",args),n.post(args[0],args.slice(1))},t.prototype.put=function(){return this.request.apply(this,["put"].concat(a.call(args)))},t.prototype["delete"]=function(){return this.request.apply(this,["delete"].concat(a.call(args)))},t.prototype.select=function(){return this.trigger("select"),this.constructor.current=this},t}(r),window.zooniverse.Api=o,"undefined"!=typeof t&&null!==t&&(t.exports=o)}).call(this)},{"./event-emitter":29}],29:[function(e,t){(function(){var e,n,o,r={}.hasOwnProperty;null==window.zooniverse&&(window.zooniverse={}),e=window.jQuery,o=!!~location.href.indexOf("log=1"),n=function(){function t(){}var n,i;t.on=function(t,n){return null==this.jQueryEventProxy&&(this.jQueryEventProxy=e({})),this.jQueryEventProxy.on(t,n)},t.one=function(t,n){return null==this.jQueryEventProxy&&(this.jQueryEventProxy=e({})),this.jQueryEventProxy.one(t,n)},t.off=function(t,n){return null==this.jQueryEventProxy&&(this.jQueryEventProxy=e({})),this.jQueryEventProxy.off(t,n)},t.trigger=function(t,n){var r,i;return null==n&&(n=[]),o&&"undefined"!=typeof console&&null!==console&&console.info(this.name||this.toString(),t.toUpperCase(),n),null==this.jQueryEventProxy&&(this.jQueryEventProxy=e({})),(i=this.jQueryEventProxy).trigger.apply(i,arguments),"function"==typeof(r=this.constructor).trigger?r.trigger(t,[this].concat(n)):void 0};for(i in t)r.call(t,i)&&(n=t[i],t.prototype[i]=n);return t.prototype.destroy=function(){return this.trigger("destroying"),this.off()},o&&(t.prototype.toString=function(){return""+this.constructor.name+" instance"}),t}(),window.zooniverse.EventEmitter=n,"undefined"!=typeof t&&null!==t&&(t.exports=n)}).call(this)},{}],30:[function(e,t){(function(){var n,o,r,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};o=(null!=(i=window.zooniverse)?i.EventEmitter:void 0)||e("./event-emitter"),n=window.jQuery,r=function(e){function t(e){var t,n,o,r,i,a,l,c,p=this;if(r=null!=e?e:{},this.translations=r.translations,this.code=r.code,this.languageLabel=s(this.languageLabel,this),null==this.translations&&(this.translations={}),null!=window.AVAILABLE_TRANSLATIONS){i=window.AVAILABLE_TRANSLATIONS;for(code in i)t=i[code],this.translations[code]=t}null==this.code&&(this.code=null!=(a=location.search.match(/lang=([^&]+)/))?a[1]:void 0),null==this.code&&(this.code=localStorage.getItem("zooniverse-language-code")),null==this.code&&(this.code=null!=(l=navigator.language)?l.split("-")[0]:void 0),null==this.code&&(this.code=null!=(c=navigator.userLanguage)?c.split("-")[0]:void 0),null==this.code&&(this.code=this.constructor.prototype.code),(u.call(this.code,"/")>=0||u.call(this.code,".json")>=0)&&null==(n=this.translations)[o=this.code]&&(n[o]={label:this.code,strings:this.code}),this.constructor.current=this,setTimeout(function(){return p.setLanguage(p.code)})}return l(t,e),t.current=null,t.prototype.translations=null,t.prototype.code="en",t.prototype.setLanguage=function(e,t,o){var r,i,s,a,l,u=this;return this.code=e,"string"==typeof(null!=(a=this.translations[this.code])?a.strings:void 0)?(i=null!=(l=this.translations[this.code])?l.strings:void 0,r=JSON.parse(localStorage.getItem("zooniverse-language-strings-"+this.code)),null!=r&&(this.translations[this.code].strings=r,this.setLanguage(this.code,t,o)),s=n.getJSON(i),s.done(function(e){return localStorage.setItem("zooniverse-language-strings-"+u.code,JSON.stringify(e)),u.translations[u.code].strings=e,u.setLanguage(u.code,t,o)}),s.fail(function(){return u.trigger("language-fetch-fail"),"function"==typeof o?o.apply(null,arguments):void 0})):(localStorage.setItem("zooniverse-language-code",this.code),document.querySelector("html").lang=this.code,this.trigger("change-language",[this.code,this.translations[this.code].strings]),"function"==typeof t?t(this.code,this.translations[this.code].strings):void 0)},t.prototype.languageLabel=function(){var e;return null!=(e=this.translations)?e[this.code].label:void 0},t}(o),null==window.zooniverse&&(window.zooniverse={}),window.zooniverse.LanguageManager=r,"undefined"!=typeof t&&null!==t&&(t.exports=r)}).call(this)},{"./event-emitter":29}],31:[function(e,t){(function(){var n,o,r,i,s,a,l,u,c,p,h,d,f,g,v,m,y,w=[].slice;n=(null!=(r=window.zooniverse)?r.LanguageManager:void 0)||e("./language-manager"),o=function(){var e,t,n,r,i;return r=2<=arguments.length?w.call(arguments,0,i=arguments.length-1):(i=0,[]),t=arguments[i++],n=r[0],null==n&&(n="span"),e=document.createElement(n),e.setAttribute(o.attr,t),o.refresh(e),e.outerHTML},o.attr="data-zooniverse-translate",o.strings={en:(null!=(i=window.zooniverse)&&null!=(p=i.translations)?p.en:void 0)||e("../translations/en"),es:(null!=(h=window.zooniverse)&&null!=(d=h.translations)?d.es:void 0)||e("../translations/es"),fr:(null!=(f=window.zooniverse)&&null!=(g=f.translations)?g.fr:void 0)||e("../translations/fr"),pl:(null!=(v=window.zooniverse)&&null!=(m=v.translations)?m.pl:void 0)||e("../translations/pl"),ru:(null!=(y=window.zooniverse)&&null!=(s=y.translations)?s.ru:void 0)||e("../translations/ru"),zh_tw:(null!=(a=window.zooniverse)&&null!=(l=a.translations)?l.zh_tw:void 0)||e("../translations/zh-tw"),de:(null!=(u=window.zooniverse)&&null!=(c=u.translations)?c.de:void 0)||e("../translations/de")},o.refresh=function(e){var t,r,i,s,a,l,u,c,p,h,d,f;for(u=e.attributes,f=[],a=0,l=u.length;l>a;a++)c=u[a],t=c.name,s=c.value,t.slice(0,o.attr.length)===o.attr&&s&&(r=t.slice(o.attr.length+1)||"innerHTML",i=null!=(p=o.strings[null!=(h=n.current)?h.code:void 0])?p[s]:void 0,i||(i=null!=(d=o.strings[n.prototype.code])?d[s]:void 0),i||(i=s),f.push(e.hasAttribute(r)?e.setAttribute(r,i):e[r]=i));return f},n.on("change-language",function(){var e,t,n,r,i;for(r=document.querySelectorAll("["+o.attr+"]"),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(o.refresh(e));return i}),null==window.zooniverse&&(window.zooniverse={}),window.zooniverse.translate=o,"undefined"!=typeof t&&null!==t&&(t.exports=o)}).call(this)},{"../translations/de":38,"../translations/en":39,"../translations/es":40,"../translations/fr":41,"../translations/pl":42,"../translations/ru":43,"../translations/zh-tw":44,"./language-manager":30}],32:[function(e,t){(function(){var n,o,r,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};null==window.zooniverse&&(window.zooniverse={}),null==(r=window.zooniverse).models&&(r.models={}),o=window.zooniverse.EventEmitter||e("../lib/event-emitter"),n=function(e){function t(e){var n,o,r;null==e&&(e={}),t.__super__.constructor.apply(this,arguments);for(n in e)i.call(e,n)&&(o=e[n],n in this&&(this[n]=o));this.constructor.idCounter+=1,null==this.id&&(this.id="C_"+this.constructor.idCounter),null==(r=this.constructor).instances&&(r.instances=[]),this.constructor.instances.push(this)}return s(t,e),t.idCounter=-1,t.instances=null,t.count=function(){return null==this.instances&&(this.instances=[]),this.instances.length},t.first=function(){return null==this.instances&&(this.instances=[]),this.instances[0]},t.find=function(e){var t,n,o,r;for(null==this.instances&&(this.instances=[]),r=this.instances,n=0,o=r.length;o>n;n++)if(t=r[n],t.id===e)return t},t.search=function(e){var t,n,o,r,s,a,l,u;for(null==this.instances&&(this.instances=[]),l=this.instances,u=[],s=0,a=l.length;a>s;s++){t=l[s],n=!1;for(o in e)if(i.call(e,o)&&(r=e[o],t[o]!==r)){n=!0;break}n||u.push(t)}return u},t.destroyAll=function(){var e;for(e=[];0!==this.count();)e.push(this.first().destroy());return e},t.prototype.id=null,t.prototype.destroy=function(){var e,n,o,r,i,s,a;for(t.__super__.destroy.apply(this,arguments),i=this.constructor.instances,a=[],e=o=0,r=i.length;r>o;e=++o)if(n=i[e],n===this){null!=(s=this.constructor.instances)&&s.splice(e,1);break}return a},t}(o),window.zooniverse.models.BaseModel=n,"undefined"!=typeof t&&null!==t&&(t.exports=n)}).call(this)},{"../lib/event-emitter":29}],33:[function(e,t){(function(){var n,o,r,i,s,a,l,u,c,p,h,d,f,g,v,m,y,w={}.hasOwnProperty,_=function(e,t){function n(){this.constructor=e}for(var o in t)w.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},b=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},k=[].slice;r=(null!=(p=window.zooniverse)&&null!=(h=p.models)?h.BaseModel:void 0)||e("./base-model"),o=(null!=(d=window.zooniverse)?d.Api:void 0)||e("../lib/api"),u=(null!=(f=window.zooniverse)&&null!=(g=f.models)?g.Recent:void 0)||e("../models/recent"),s=(null!=(v=window.zooniverse)&&null!=(m=v.models)?m.Favorite:void 0)||e("../models/favorite"),a=(null!=(y=window.zooniverse)?y.LanguageManager:void 0)||e("../lib/language-manager"),n=window.jQuery,l=(new n.Deferred).resolve().state(),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),null==this.annotations&&(this.annotations=[]),this.generic={},this.started_at=(new Date).toUTCString(),this.user_agent=window.navigator.userAgent}return _(t,e),t.pending=JSON.parse(localStorage.getItem("pending-classifications"))||[],t.sentThisSession=0,t.sendPending=function(){var e,t,r,i,a,u,c=this;if(0!==this.pending.length){for(this.trigger("sending-pending",[e]),t=[],a=this.pending,u=[],r=0,i=a.length;i>r;r++)e=a[r],u.push(function(e){var r;return r=o.current.post(e.url,e),t.push(r),r.done(function(){var t,n;return c.trigger("send-pending",[e]),e.favorite?(t=new s({subjects:function(){var t,o,r,i;for(r=e.subject_ids,i=[],t=0,o=r.length;o>t;t++)n=r[t],i.push({id:n});return i}()}),t.send()):void 0}),r.fail(function(){return c.trigger("send-pending-fail",[e])}),n.when.apply(n,t).always(function(){var e,n,o;for(e=n=o=t.length-1;0>=o?0>=n:n>=0;e=0>=o?++n:--n)t[e].state()===l&&c.pending.splice(e,1);return localStorage.setItem("pending-classifications",JSON.stringify(c.pending))})}(e));return u}},t.prototype.subjects=[],t.prototype.subject=null,t.prototype.annotations=null,t.prototype.favorite=!1,t.prototype.generic=null,t.prototype.started_at=null,t.prototype.finished_at=null,t.prototype.user_agent=null,t.prototype.normalizeSubjects=function(){return this.subjects.length>0?this.subject||(this.subject=this.subjects[0]):this.subjects=[this.subject]},t.prototype.annotate=function(e){return this.annotations.push(e),e},t.prototype.removeAnnotation=function(e){var t,n,o,r,i;for(i=this.annotations,n=o=0,r=i.length;r>o;n=++o)if(t=i[n],t===e)return this.annotations.splice(n,1)},t.prototype.isTutorial=function(){var e;return this.normalizeSubjects(),b.call(function(){var t,n,o,r,i;for(o=this.subjects,i=[],t=0,n=o.length;n>t;t++)e=o[t],i.push(null!=(r=e.metadata)?r.tutorial:void 0);return i}.call(this),!0)>=0},t.prototype.set=function(e,t){return this.generic[e]=t,this.trigger("change",[e,t])},t.prototype.get=function(e){return this.generic[e]},t.prototype.toJSON=function(){var e,t,n,o,r,i,s;null!=a.current&&this.set("lang",a.current.code),this.normalizeSubjects(),r=function(){var e,t,n,r;for(n=this.subjects,r=[],e=0,t=n.length;t>e;e++)o=n[e],r.push(o.id);return r}.call(this),n={classification:{subject_ids:r,annotations:this.annotations.concat([{started_at:this.started_at,finished_at:this.finished_at},{user_agent:this.user_agent}])}},s=this.generic;for(t in s)i=s[t],e={},e[t]=i,n.classification.annotations.push(e);return this.favorite&&(n.classification.favorite=!0),n},t.prototype.url=function(){return this.normalizeSubjects(),"/projects/"+o.current.project+"/workflows/"+this.subjects[0].workflow_ids[0]+"/classifications"},t.prototype.send=function(){var e,t,n=this;return this.isTutorial()||(this.constructor.sentThisSession+=1),this.finished_at=(new Date).toUTCString(),e=(t=o.current).post.apply(t,[this.url(),this.toJSON()].concat(k.call(arguments))),e.done(function(){return n.makeRecent(),n.constructor.sendPending()}),e.fail(function(){return n.makePending()}),this.trigger("send")},t.prototype.makePending=function(){var e;return e=this.toJSON(),e.url=this.url(),this.constructor.pending.push(e),localStorage.setItem("pending-classifications",JSON.stringify(this.constructor.pending)),this.trigger("pending")},t.prototype.makeRecent=function(){var e,t,n,o,r,i,a;for(this.normalizeSubjects(),i=this.subjects,a=[],o=0,r=i.length;r>o;o++)n=i[o],t=new u({subjects:[n]}),t.trigger("from-classification"),this.favorite?(e=new s({subjects:[n]}),a.push(e.trigger("from-classification"))):a.push(void 0);return a},t}(r),null==window.zooniverse&&(window.zooniverse={}),null==(c=window.zooniverse).models&&(c.models={}),window.zooniverse.models.Classification=i,"undefined"!=typeof t&&null!==t&&(t.exports=i)}).call(this)},{"../lib/api":28,"../lib/language-manager":30,"../models/favorite":34,"../models/recent":35,"./base-model":32}],34:[function(e,t){(function(){var n,o,r,i,s,a,l,u=function(e,t){return function(){return e.apply(t,arguments)}},c={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};null==window.zooniverse&&(window.zooniverse={}),null==(a=window.zooniverse).models&&(a.models={}),i=window.zooniverse.models.Recent||e("./recent"),o=window.zooniverse.Api||e("../lib/api"),s=window.zooniverse.models.User||e("./user"),n=window.jQuery,r=function(e){function t(){return this.toJSON=u(this.toJSON,this),l=t.__super__.constructor.apply(this,arguments)}return p(t,e),t.type="favorite",t.clearOnUserChange(),t.prototype.toJSON=function(){var e;return{favorite:{subject_ids:function(){var t,n,o,r;for(o=this.subjects,r=[],t=0,n=o.length;n>t;t++)e=o[t],r.push(e.id);return r}.call(this)}}},t.prototype.send=function(){var e=this;return this.trigger("sending"),o.current.post("/projects/"+o.current.project+"/favorites",this.toJSON(),function(t){return e.id=t.id,e.trigger("send")})},t.prototype["delete"]=function(){var e=this;return this.trigger("deleting"),o.current["delete"]("/projects/"+o.current.project+"/favorites/"+this.id,function(){return e.trigger("delete"),e.destroy()})},t}(i),window.zooniverse.models.Favorite=r,"undefined"!=typeof t&&null!==t&&(t.exports=r)}).call(this)},{"../lib/api":28,"./recent":35,"./user":37}],35:[function(e,t){(function(){var n,o,r,i,s,a,l,u,c,p={}.hasOwnProperty,h=function(e,t){function n(){this.constructor=e}for(var o in t)p.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};null==window.zooniverse&&(window.zooniverse={}),null==(u=window.zooniverse).models&&(u.models={}),r=window.zooniverse.models.BaseModel||e("./base-model"),o=window.zooniverse.Api||e("../lib/api"),l=window.zooniverse.models.User||e("./user"),s=window.zooniverse.models.Subject||e("./subject"),n=window.jQuery,a=function(e){function t(){return c=t.__super__.constructor.apply(this,arguments)}return h(t,e),t}(s),i=function(e){function t(){var e,n,o,r,i,s,l,u;for(t.__super__.constructor.apply(this,arguments),null==this.subjects&&(this.subjects=[]),this.project_id||(this.project_id=null!=(i=this.subjects[0])?i.project_id:void 0),this.workflow_id||(this.workflow_id=null!=(s=this.subjects[0])&&null!=(l=s.workflow_ids)?l[0]:void 0),this.created_at||(this.created_at=(new Date).toUTCString()),u=this.subjects,e=o=0,r=u.length;r>o;e=++o)n=u[e],this.subjects[e]=new a(n)}return h(t,e),t.type="recent",t.path=function(){var e;return"/projects/"+o.current.project+"/users/"+(null!=(e=l.current)?e.id:void 0)+"/"+this.type+"s"},t.fetch=function(e,t,r){var i,s,a,l=this;return this.trigger("fetching"),"function"==typeof e&&(a=[e,t,{}],t=a[0],r=a[1],e=a[2]),e=n.extend({page:1,per_page:10},e),i=new n.Deferred,i.then(t,r),s=o.current.get(this.path(),e),s.done(function(e){var t,n;return t=function(){var t,o,r,i;for(r=e.reverse(),i=[],t=0,o=r.length;o>t;t++)n=r[t],i.push(new this(n));return i}.call(l),l.trigger("fetch",[t]),i.resolve(t)}),s.fail(function(){return l.trigger("fetch-fail"),i.reject.apply(i,arguments)}),i.promise()},t.clearOnUserChange=function(){var e;return e=this,l.on("change",function(){var t;for(t=[];0!==e.count();)t.push(e.first().destroy());return t})},t.clearOnUserChange(),t.prototype.subjects=null,t.prototype.project_id="",t.prototype.workflow_id="",t.prototype.created_at="",t}(r),window.zooniverse.models.Recent=i,"undefined"!=typeof t&&null!==t&&(t.exports=i)}).call(this)},{"../lib/api":28,"./base-model":32,"./subject":36,"./user":37}],36:[function(e,t){(function(){var n,o,r,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};null==window.zooniverse&&(window.zooniverse={}),null==(s=window.zooniverse).models&&(s.models={}),r=zooniverse.models.BaseModel||e("./base-model"),o=zooniverse.Api||e("../lib/api"),n=window.jQuery,i=function(e){function t(){t.__super__.constructor.apply(this,arguments),console.log("Creating subject (trying)"),null==this.location&&(this.location={}),null==this.coords&&(this.coords=[]),null==this.metadata&&(this.metadata={}),null==this.workflow_ids&&(this.workflow_ids=[])}return l(t,e),t.current=null,t.seenThisSession=[],t.queueMin=2,t.queueMax=10,t.group=!1,t.fallback="./offline/subjects.json",t.path=function(){var e;return e=this.group?this.group===!0?"groups/":"groups/"+this.group+"/":"","workflows/533cd4dd4954738018030000/subjects"
},t.next=function(e,t){var o,r,i,s=this;return this.trigger("get-next"),null!=(i=this.current)&&i.destroy(),this.current=null,r=new n.Deferred,r.then(e,t),0===this.count()?(o=this.fetch(),o.done(function(){var e;return null!=(e=s.first())&&e.select(),s.current?r.resolve(s.current):(s.trigger("no-more"),r.reject.apply(r,arguments))}),o.fail(function(){return r.reject.apply(r,arguments)})):(this.first().select(),r.resolve(this.current),this.count()<this.queueMin&&this.fetch()),r.promise()},t.trackSeenSubject=function(e){return this.seenThisSession.push(e.id)},t.hasSeenSubject=function(e){var t;return t=e.id,u.call(this.seenThisSession,t)>=0},t.fetch=function(e,t,r){var i,s,a,l,u=this;return"function"==typeof e&&(l=[e,t,{}],t=l[0],r=l[1],e=l[2]),s=(e||{}).limit,null==s&&(s=this.queueMax-this.count()),i=new n.Deferred,i.then(t,r),s>0?(a=o.current.get(this.path(),{limit:s}),a.done(function(e){var t,n;for(console.log("raw subjects ",e),t=function(){var t,o,r;for(r=[],t=0,o=e.length;o>t;t++)n=e[t],this.hasSeenSubject(n)||(this.trackSeenSubject(n),console.log("here"),r.push(new this(n)));return r}.call(u),console.log("new subjects ",t);!(u.seenThisSession.length<1e3);)u.seenThisSession.shift();return u.trigger("fetch",[t]),i.resolve(t)}),a.fail(function(){var e;return u.trigger("fetching-fallback"),e=n.get(u.fallback),e.done(function(e){var t,n,o,r,s;if(u.group){for(n=[],r=0,s=e.length;s>r;r++)o=e[r],o.group_id===u.group&&n.push(o);e=n}return e.sort(function(){return Math.random()-.5}),t=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)o=e[t],r.push(new this(o));return r}.call(u),u.trigger("fetch",[t]),i.resolve(t)}),e.fail(function(){return u.trigger("fetch-fail"),i.fail.apply(i,arguments)})})):i.resolve(this.instances.slice(0,number)),i.promise()},t.prototype.id="",t.prototype.zooniverse_id="",t.prototype.classification_count=null,t.prototype.coords=null,t.prototype.location=null,t.prototype.metadata=null,t.prototype.project_id="",t.prototype.group_id="",t.prototype.workflow_ids=null,t.prototype.tutorial=null,t.prototype.preload=!0,t.prototype.preloadImages=function(){var e,t,n,o,r;if(this.preload){o=this.location,r=[];for(n in o)e=o[n],e instanceof Array||(e=[e]),this.isImage(e)&&r.push(function(){var n,o,r;for(r=[],n=0,o=e.length;o>n;n++)t=e[n],r.push((new Image).src=t);return r}());return r}},t.prototype.select=function(){return this.constructor.current=this,this.trigger("select")},t.prototype.destroy=function(){return this.constructor.current===this&&(this.constructor.current=null),t.__super__.destroy.apply(this,arguments)},t.prototype.isImage=function(e){var t,n,o,r;for(n=0,o=e.length;o>n;n++)if(t=e[n],"gif"!==(r=t.split(".").pop())&&"jpg"!==r&&"png"!==r)return!1;return!0},t.prototype.talkHref=function(){var e;return e=this.domain||location.hostname.replace(/^www\./,""),"http://talk."+e+"/#/subjects/"+this.zooniverse_id},t.prototype.socialImage=function(){var e;return e=this.location.standard instanceof Array?this.location.standard[Math.floor(this.location.standard.length/2)]:this.location.standard,n("<a href='"+e+"'></a>").get(0).href},t.prototype.socialTitle=function(){return"Zooniverse classification"},t.prototype.socialMessage=function(){return"Classifying on the Zooniverse!"},t.prototype.facebookHref=function(){return("https://www.facebook.com/sharer/sharer.php\n?s=100\n&p[url]="+encodeURIComponent(this.talkHref())+"\n&p[title]="+encodeURIComponent(this.socialTitle())+"\n&p[summary]="+encodeURIComponent(this.socialMessage())+"\n&p[images][0]="+this.socialMessage()).replace("\n","","g")},t.prototype.twitterHref=function(){var e;return e=""+this.socialMessage()+" "+this.talkHref(),"http://twitter.com/home?status="+encodeURIComponent(e)},t.prototype.pinterestHref=function(){return("http://pinterest.com/pin/create/button/\n?url="+encodeURIComponent(this.talkHref())+"\n&media="+encodeURIComponent(this.socialImage())+"\n&description="+encodeURIComponent(this.socialMessage())).replace("\n","","g")},t}(r),window.zooniverse.models.Subject=i,"undefined"!=typeof t&&null!==t&&(t.exports=i)}).call(this)},{"../lib/api":28,"./base-model":32}],37:[function(e,t){(function(){var n,o,r,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u=[].slice;null==window.zooniverse&&(window.zooniverse={}),null==(s=window.zooniverse).models&&(s.models={}),o=window.zooniverse.EventEmitter||e("../lib/event-emitter"),n=window.zooniverse.Api||e("../lib/api"),i=window.base64||(e("../vendor/base64"),window.base64),r=function(e){function t(e){var t,n;null==e&&(e={});for(t in e)a.call(e,t)&&(n=e[t],this[t]=n)}return l(t,e),t.current=!1,t.path=function(){return""},t.fetch=function(){var e,o;return t.trigger("fetching",arguments),e=(o=n.current).getJSON.apply(o,[""+t.path()+"/current_user"].concat(u.call(arguments))),e.always(t.onFetch),e},t.login=function(e){var t,o,r,i;return r=e.username,o=e.password,this.trigger("logging-in",arguments),t=(i=n.current).getJSON.apply(i,[""+this.path()+"/login"].concat(u.call(arguments))),t.done(this.onFetch),t.fail(this.onFail),t},t.logout=function(){var e,t;return this.trigger("logging-out",arguments),e=(t=n.current).getJSON.apply(t,[""+this.path()+"/logout"].concat(u.call(arguments))),e.always(this.onFetch),e},t.signup=function(e){var t,o,r,i,s;return i=e.username,o=e.password,t=e.email,this.trigger("signing-up"),r=(s=n.current).getJSON.apply(s,[""+this.path()+"/signup"].concat(u.call(arguments))),r.always(this.onFetch),r},t.onFetch=function(e){var o,r;return r=t.current,t.current=e.success&&"name"in e&&"api_key"in e?new t(e):null,t.current?(o=i.encode(""+t.current.name+":"+t.current.api_key),n.current.headers.Authorization="Basic "+o):delete n.current.headers.Authorization,t.current!==r&&(r&&r.destroy(),t.trigger("change",[t.current])),e.success?void 0:t.trigger("sign-in-error",e.message)},t.onFail=function(){return t.trigger("sign-in-failure")},t.prototype.id="",t.prototype.zooniverse_id="",t.prototype.api_key="",t.prototype.name="",t.prototype.avatar="",t.prototype.project=null,t.prototype.setGroup=function(e,o){var r,i,s,a=this;if(null!=t.current)return i=null!=e?"/user_groups/"+e+"/participate":"/user_groups/TODO_HOW_DO_I_LEAVE_A_GROUP/participate",r=null!=(s=n.current)?s.getJSON(i,function(e){return a.trigger("change-group",e),"function"==typeof o?o.apply(null,arguments):void 0}):void 0},t.prototype.setPreference=function(e,o,r,i){var s,a,l,u;return null==r&&(r=!1),null!=t.current?("function"==typeof r&&(u=[!1,r],r=u[0],i=u[1]),null==(s=t.current).preferences&&(s.preferences={}),r?t.current.preferences[e]=o:(null==(a=t.current.preferences)[l=n.current.project]&&(a[l]={}),t.current.preferences[n.current.project][e]=o),r||(e=""+n.current.project+"."+e),n.current.put("/users/preferences",{key:e,value:o},i)):void 0},t.prototype.deletePreference=function(e,o,r){var i,s,a,l;return null==o&&(o=!1),null!=t.current?("function"==typeof o&&(l=[!1,o],o=l[0],r=l[1]),null==(i=t.current).preferences&&(i.preferences={}),o?delete t.current.preferences[e]:(null==(s=t.current.preferences)[a=n.current.project]&&(s[a]={}),delete t.current.preferences[n.current.project][e]),o||(e=""+n.current.project+"."+e),n.current["delete"]("/users/preferences",{key:e},r)):void 0},t}.call(this,o),window.zooniverse.models.User=r,"undefined"!=typeof t&&null!==t&&(t.exports=r)}).call(this)},{"../lib/api":28,"../lib/event-emitter":29,"../vendor/base64":46}],38:[function(e,t){(function(){var e,n;e={topBarHeading:"Ein Projekt von Zooniverse",signUpHeading:"Ein neues Zooniverse-Konto erstellen",signInHeading:"Mit Zooniverse-Konto anmelden",signUp:"Registrieren",signIn:"Anmelden",signOut:"Abmelden",username:"Benutzername",password:"Passwort",email:"E-Mail",realName:"Tatschlicher Name",whyRealName:"Wenn wir Freiwilligen danken, zum Beispiel auf Postern oder in Vortrgen, wird dein tatschlicher Name verwendet. Falls du nicht ffentlich erwhnt werden willst, lasse diese Zeile offen.",noAccount:"Kein Benutzerkonto?",agreeToPrivacyPolicy:'Ich stimme der <a href="https://www.zooniverse.org/privacy" target="_blank">Datenschutzrichtlinie</a> zu.',betaPreference:"Ich wrde gerne eine Nachricht erhalten, wenn die Gelegenheit besteht, neue Zooniverse-Projekte zu testen und meine Meinung abzugeben.",forgotPassword:"Passwort vergessen?",badLogin:"Falscher Benutzername oder falsches Passwort",signInFailed:"Anmeldung fehlgeschlagen.",signInForProfile:"Melde dich an, um dein Profil zu sehen.",footerHeading:"Zooniverse ist eine Sammlung von Citizen Science Projekten im Internet, die die Leistungen Freiwilliger nutzen, um Forschern mit der Datenflut zu helfen, mit der sie konfrontiert werden.",privacyPolicy:"Datenschutzrichtlinie",forkOnGitHub:"Source & Bugs",recents:"Neueste",favorites:"Favoriten",none:"keine"},null==window.zooniverse&&(window.zooniverse={}),null==(n=window.zooniverse).translations&&(n.translations={}),window.zooniverse.translations.de=e,"undefined"!=typeof t&&null!==t&&(t.exports=e)}).call(this)},{}],39:[function(e,t){(function(){var e,n;e={topBarHeading:"A Zooniverse project",signUpHeading:"Sign up for a new Zooniverse account",signInHeading:"Sign in to your Zooniverse account",signUp:"Sign up",signIn:"Sign in",signOut:"Sign out",username:"Username",password:"Password",email:"Email",realName:"Real name",whyRealName:"This will be used when we thank contributors, for example, in talks or on posters. If you don't want to be mentioned publicly, leave this blank.",noAccount:"Don't have an account?",agreeToPrivacyPolicy:'I agree to the <a href="https://www.zooniverse.org/privacy" target="_blank">privacy policy</a>.',betaPreference:"I would like to receive notices with opportunities to test and provide feedback on unreleased Zooniverse projects.",forgotPassword:"Forgot your password?",badLogin:"Incorrect username or password",signInFailed:"Sign in failed.",signInForProfile:"Sign in to see your profile.",footerHeading:"The Zooniverse is a collection of web-based citizen science projects that use the efforts of volunteers to help researchers deal with the flood of data that confronts them.",privacyPolicy:"Privacy policy",forkOnGitHub:"Source & bugs",recents:"Recents",favorites:"Favorites",none:"none"},null==window.zooniverse&&(window.zooniverse={}),null==(n=window.zooniverse).translations&&(n.translations={}),window.zooniverse.translations.en=e,"undefined"!=typeof t&&null!==t&&(t.exports=e)}).call(this)},{}],40:[function(e,t){(function(){var e,n;e={topBarHeading:"Un proyecto de Zooniverse",signUpHeading:"Regstrate con una nueva cuenta Zooniverse",signInHeading:"Inicia sesin con tu cuenta de Zooniverse",signUp:"Suscribirse",signIn:"Iniciar sesin",signOut:"Salir",username:"Nombre de Usuario",password:"Contrasea",email:"Email",realName:"Nombre Real",whyRealName:"Esto ser usado para agradecer a los colaboradores, por ejempl  en las conversaciones o carteles. Si no quieres ser mencionado pblicament  djalo en blanco.",noAccount:"No tienes una cuenta?",agreeToPrivacyPolicy:'Estoy de acuerdo con <a href="https://www.zoonivers  org/privacy" target="_blank"> y su poltica de privacidad </a>.',betaPreference:"Me gustara recibir noticias con oportunidades para probar   proporcionar feedback en los proyectos inditos de Zooniverse",forgotPassword:"Olvidaste tu contrasea?",badLogin:"Nombre de usuario o contrasea incorrecta",signInFailed:"Error al iniciar sesin",signInForProfile:"Inicia sesin para ver tu perfil.",footerHeading:"Zooniverse es una coleccin de proyectos de ciencia ciudadan  basados en la web que utiliza el esfuerzo de voluntarios para ayudar a lo investigadores con la avalancha de datos a la que se enfrentan.",privacyPolicy:"Poltica de privacidad",forkOnGitHub:"Fuente y errores",recents:"Recientes",favorites:"Favoritos",none:"ninguno"},null==window.zooniverse&&(window.zooniverse={}),null==(n=window.zooniverse).translations&&(n.translations={}),window.zooniverse.translations.es=e,"undefined"!=typeof t&&null!==t&&(t.exports=e)}).call(this)},{}],41:[function(e,t){(function(){var e,n;e={topBarHeading:"Un projet Zooniverse",signUpHeading:"Crer un compte Zooniverse",signInHeading:"Connectez-vous  votre compte Zooniverse",signUp:"S'inscrire",signIn:"Connexion",signOut:"Dconnexion",username:"Nom d'utilisateur",password:"Mot de passe",email:"Email",realName:"Prnom Nom",whyRealName:"Votre nom pourra tre utiliser lors du remerciement des contributeurs, par exemple lors de prsentation orales ou sur des posters.<br />Si vous ne souhaitez pas qu'il soit mentionner publiquement, laissez cette case vide.",noAccount:"Vous n'avez pas encore de compte?",agreeToPrivacyPolicy:'J\'accepte les <a href="https://www.zooniverse.org/privacy" target="_blank">conditions d\'utilisation </a>.',betaPreference:"J'aimerais tre tenu au courant des projets en cours de dveloppement par Zooniverse, afin de participer aux tests et donner mon avis.",forgotPassword:"Mot de passe oubli?",badLogin:"Utilisateur ou mot de passe incorrect",signInFailed:"chec de la connexion.",signInForProfile:"Connectez-vous pour accder  votre profil.",footerHeading:"Zooniverse est une collection de projets de science participative en ligne qui permettent aux volontaires d'aider les scientifiques  traiter les immenses quantits de donnes dont ils disposent.",privacyPolicy:"Contiditons d'utilisation",recents:"Rcents",favorites:"Favoris",none:"aucun"},null==window.zooniverse&&(window.zooniverse={}),null==(n=window.zooniverse).translations&&(n.translations={}),window.zooniverse.translations.fr=e,"undefined"!=typeof t&&null!==t&&(t.exports=e)}).call(this)},{}],42:[function(e,t){(function(){var e,n;e={topBarHeading:"Projekt Zooniverse",signUpHeading:"Utwrz nowe konto Zooniverse",signInHeading:"Zaloguj si na swoje konto Zooniverse",signUp:"Zarejestruj",signIn:"Zaloguj",signOut:"Wyloguj",username:"Nazwa uytkownika",password:"Haso",email:"Adres e-mail",realName:"Prawdziwe imi",whyRealName:"Korzystamy z tych danych, kiedy dzikujemy ochotnikom za ich wkad, na przykad podczas rozmw czy na plakatach. <br/> Jeeli nie chcesz, abymy wymieniali Ci publicznie z imienia i nazwiska, zostaw to pole puste.",noAccount:"Nie masz jeszcze konta?",agreeToPrivacyPolicy:'Zgadzam si z <a href="https://www.zooniverse.org/privacy" target="_blank">polityk prywatnoci</a>.',forgotPassword:"Nie pamitasz hasa?",badLogin:"Niepoprawna nazwa uytkownika lub haso",signInFailed:"Nie udao si zalogowa",signInForProfile:"Zaloguj si, aby zobaczy swj profil",footerHeading:"Zooniverse to zbir projektw nauki obywatelskiej w Internecie, dziki ktrym ochotnicy pomagaj badaczom przedziera si przez powd napywajcych danych.",privacyPolicy:"Polityka prywatnoci",recents:"Najnowsze",favorites:"Ulubione",none:"nic"},null==window.zooniverse&&(window.zooniverse={}),null==(n=window.zooniverse).translations&&(n.translations={}),window.zooniverse.translations.pl=e,"undefined"!=typeof t&&null!==t&&(t.exports=e)}).call(this)},{}],43:[function(e,t){(function(){var e,n;e={topBarHeading:" Zooniverse",signUpHeading:"   Zooniverse",signInHeading:"    Zooniverse",signUp:"",signIn:"",signOut:"",username:" ",password:"",email:" E-mail",realName:" ",whyRealName:"     , ,    .    ,    ,    .",noAccount:" ?",agreeToPrivacyPolicy:'   <a href="https://www.zooniverse.org/privacy" target="_blank"> </a>.',betaPreference:"          Zooniverse.",forgotPassword:" ?",badLogin:"    ",signInFailed:"  .",signInForProfile:",    .",footerHeading:"Zooniverse    -  ,       ,     .",privacyPolicy:" ",forkOnGitHub:"   ",recents:"",favorites:"",none:""},null==window.zooniverse&&(window.zooniverse={}),null==(n=window.zooniverse).translations&&(n.translations={}),window.zooniverse.translations.ru=e,"undefined"!=typeof t&&null!==t&&(t.exports=e)}).call(this)},{}],44:[function(e,t){(function(){var e,n;e={topBarHeading:"Zooniverse",signUpHeading:' "Zooniverse',signInHeading:"Zooniverse ",signUp:"",signIn:"",signOut:"",username:"",password:"",email:"",realName:"",whyRealName:"",noAccount:"",agreeToPrivacyPolicy:' <a href="https://www.zooniverse.org/privacy" target="_blank"> </a>.',betaPreference:"Zooniverse",forgotPassword:"?",badLogin:"",signInFailed:"",signInForProfile:"",footerHeading:" Zooniverse",privacyPolicy:"",forkOnGitHub:"",recents:"",favorites:"",none:""},null==window.zooniverse&&(window.zooniverse={}),null==(n=window.zooniverse).translations&&(n.translations={}),window.zooniverse.translations.zh_tw=e,"undefined"!=typeof t&&null!==t&&(t.exports=e)}).call(this)},{}],45:[function(e,t){(function(){var e,n,o=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=function(e,t,n){var r,i;return r=e.className.split(/\s+/),i=o.call(r,t)>=0,null==n&&(n=!i),n=!!n,i||n!==!0||r.push(t),i&&n===!1&&r.splice(r.indexOf(t),1),e.className=r.join(" "),null},null==window.zooniverse&&(window.zooniverse={}),null==(n=window.zooniverse).util&&(n.util={}),window.zooniverse.util.toggleClass=e,"undefined"!=typeof t&&null!==t&&(t.exports=e)}).call(this)},{}],46:[function(){window.base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,o,r,i,s,a,l="",u=0;for(e=base64._utf8_encode(e);u<e.length;)t=e.charCodeAt(u++),n=e.charCodeAt(u++),o=e.charCodeAt(u++),r=t>>2,i=(3&t)<<4|n>>4,s=(15&n)<<2|o>>6,a=63&o,isNaN(n)?s=a=64:isNaN(o)&&(a=64),l=l+base64._keyStr.charAt(r)+base64._keyStr.charAt(i)+base64._keyStr.charAt(s)+base64._keyStr.charAt(a);return l},decode:function(e){var t,n,o,r,i,s,a,l="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)r=base64._keyStr.indexOf(e.charAt(u++)),i=base64._keyStr.indexOf(e.charAt(u++)),s=base64._keyStr.indexOf(e.charAt(u++)),a=base64._keyStr.indexOf(e.charAt(u++)),t=r<<2|i>>4,n=(15&i)<<4|s>>2,o=(3&s)<<6|a,l+=String.fromCharCode(t),64!=s&&(l+=String.fromCharCode(n)),64!=a&&(l+=String.fromCharCode(o));return l=base64._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(e){for(var t="",n=0,o=0,r=0,i=0;n<e.length;)o=e.charCodeAt(n),128>o?(t+=String.fromCharCode(o),n++):o>191&&224>o?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&o)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),i=e.charCodeAt(n+2),t+=String.fromCharCode((15&o)<<12|(63&r)<<6|63&i),n+=3);return t}}},{}],47:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(e){e||(e={});var t,n=[],o=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="underlay">\n  <div class="container">\n    <div class="dialog"></div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=o,e.escape=r,n.join("")},window.zooniverse.views.dialog=template,"undefined"!=typeof t&&(t.exports=template)},{}],48:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(e){e||(e={});var t,n=[],o=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?i(e):""},r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e;e=this.className||"zooniverse-group-icon",n.push('\n\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 200 100" class="'),n.push(o(e)),n.push('" width="2em" height="1em">\n  '),null==document.getElementById("zooniverse-groups-icon-person")&&n.push('\n    <defs>\n      <path id="zooniverse-groups-icon-person" d="M 0 -50 A 25 35 0 0 1 20 10 A 67 67 0 0 1 50 45 L 0 50 L -50 45 A 67 67 0 0 1 -20 10 A 25 35 0 0 1 0 -50 Z" />\n    </defs>\n  '),n.push('\n\n  <g class="'),n.push(o(e)),n.push('" fill="currentColor" stroke="transparent" stroke-width="0" transform="translate(100, 50)">\n    <use xlink:href="#zooniverse-groups-icon-person" transform="scale(0.67) translate(-80, 0)" opacity="0.75" />\n    <use xlink:href="#zooniverse-groups-icon-person" transform="scale(0.67) translate(80, 0)" opacity="0.75" />\n    <use xlink:href="#zooniverse-groups-icon-person" />\n  </g>\n</svg>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")},window.zooniverse.views.groupIconSvg=template,"undefined"!=typeof t&&(t.exports=template)},{}],49:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(e){e||(e={});var t,n=[],o=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?i(e):""},r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,t,r,i,s,a;for(n.push('<div class="user-groups">\n  '),s=this.user_groups||[],r=0,i=s.length;i>r;r++)a=s[r],e=a.id,t=a.name,n.push('\n    <div class="user-group">\n      <button name="user-group" value="'),n.push(o(e)),n.push('" '),e===this.user_group_id&&n.push('class="active"'),n.push(">"),n.push(o(t)),n.push("</button>\n    </div>\n  ");n.push("\n</div>\n")}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")},window.zooniverse.views.groupsMenu=template,"undefined"!=typeof t&&(t.exports=template)},{}],50:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(t){t||(t={});var n,o=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?s(e):""},i=t.safe,s=t.escape;return n=t.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},s||(s=t.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var t,n,i,s,a,l;t=window.zooniverse.LanguageManager||e("../lib/language-manager"),o.push('\n\n<div class="languages">\n  '),a=null!=(s=t.current)?s.translations:void 0;for(n in a)i=a[n].label,o.push('\n    <div class="language">\n      <button name="language" value="'),o.push(r(n)),o.push('" '),n===(null!=(l=t.current)?l.code:void 0)&&o.push('class="active"'),o.push(">"),o.push(r(i)),o.push("</button>\n    </div>\n  ");o.push("\n</div>\n")}).call(this)}.call(t),t.safe=i,t.escape=s,o.join("")},window.zooniverse.views.languagesMenu=template,"undefined"!=typeof t&&(t.exports=template)},{"../lib/language-manager":30}],51:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(t){t||(t={});var n,o=[],r=t.safe,i=t.escape;return n=t.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=t.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var t,n,r;t=("undefined"!=typeof zooniverse&&null!==zooniverse?zooniverse.translate:void 0)||e("../lib/translate"),o.push("\n"),n=("undefined"!=typeof zooniverse&&null!==zooniverse&&null!=(r=zooniverse.views)?r.zooniverseLogoSvg:void 0)||e("./zooniverse-logo-svg"),o.push('\n\n<div class="loader"></div>\n\n<button type="button" name="close-dialog">&times;</button>\n\n<header>\n  '),o.push(n()),o.push("\n  "),o.push(t("signInHeading")),o.push('\n</header>\n\n<label>\n  <span class="text-label">'),o.push(t("username")),o.push('</span><br />\n  <input type="text" name="username" required="required" />\n</label>\n\n<label>\n  <span class="text-label">'),o.push(t("password")),o.push('</span><br />\n  <input type="password" name="password" required="required" />\n</label>\n\n<div class="error-message"></div>\n\n<div class="action">\n  <a href="https://www.zooniverse.org/password/reset">'),o.push(t("forgotPassword")),o.push('</a>\n  <button type="submit">'),o.push(t("signIn")),o.push("</button>\n</div>\n")}).call(this)}.call(t),t.safe=r,t.escape=i,o.join("")},window.zooniverse.views.loginDialog=template,"undefined"!=typeof t&&(t.exports=template)},{"../lib/translate":31,"./zooniverse-logo-svg":59}],52:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(t){t||(t={});var n,o=[],r=t.safe,i=t.escape;return n=t.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=t.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var t,n;t=(null!=(n=window.zooniverse)?n.translate:void 0)||e("../lib/translate"),o.push('\n<input type="text" name="username" required="required" data-zooniverse-translate="" data-zooniverse-translate-placeholder="username" />\n<input type="password" name="password" required="required" data-zooniverse-translate="" data-zooniverse-translate-placeholder="password" />\n<button type="submit">'),o.push(t("signIn")),o.push('</button>\n<button name="sign-out">'),o.push(t("signOut")),o.push('</button>\n<div class="error-message"></div>\n')}).call(this)}.call(t),t.safe=r,t.escape=i,o.join("")},window.zooniverse.views.loginForm=template,"undefined"!=typeof t&&(t.exports=template)},{"../lib/translate":31}],53:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(e){e||(e={});var t,n=[],o=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?i(e):""},r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e;e=this.className||"zooniverse-mail-icon",n.push('\n\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 100" class="'),n.push(o(e)),n.push('" width="1.5em" height="1em">\n  <g class="'),n.push(o(e)),n.push('" fill="currentColor" stroke="transparent" stroke-width="0">\n    <path d="M 0 0 L 75 65 L 150 0 Z" />\n    <path d="M 0 0 L 75 75 L 150 0 L 150 100 L 0 100 Z" opacity="0.85" />\n  </g>\n</svg>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")},window.zooniverse.views.mailIconSvg=template,"undefined"!=typeof t&&(t.exports=template)},{}],54:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(e){e||(e={});var t,n=[],o=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="loader"></div>\n\n<div class="items"></div>\n\n<nav class="controls">\n  <span class="numbered"></span>\n</nav>\n')}).call(this)}.call(e),e.safe=o,e.escape=r,n.join("")},window.zooniverse.views.paginator=template,"undefined"!=typeof t&&(t.exports=template)},{}],55:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(t){t||(t={});var n,o=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?s(e):""},i=t.safe,s=t.escape;return n=t.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},s||(s=t.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var t,n,i,s,a,l,u;t=(null!=(s=window.zooniverse)&&null!=(a=s.models)?a.Favorite:void 0)||e("zooniverse/models/favorite"),o.push("\n\n<div class='item'>\n  <a href=\""),o.push(r((null!=(l=this.subjects[0])?l.talkHref():void 0)||"#/SUBJECT_ERROR")),o.push('">\n    '),n=null!=(u=this.subjects[0])?u.location:void 0,o.push("\n    "),i=null,o.push("\n    "),null==i&&(i=null!=n?n.thumb:void 0),o.push("\n    "),(null!=n?n.standard:void 0)instanceof Array&&null==i&&(i=null!=n?n.standard[0]:void 0),o.push("\n    "),null==i&&(i=null!=n?n.standard:void 0),o.push('\n    <img src="'),o.push(r(i||"")),o.push('" />\n  </a>\n</div>\n')}).call(this)}.call(t),t.safe=i,t.escape=s,o.join("")},window.zooniverse.views.profileItem=template,"undefined"!=typeof t&&(t.exports=template)},{"zooniverse/models/favorite":34}],56:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(t){t||(t={});var n,o=[],r=t.safe,i=t.escape;return n=t.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=t.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var t,n;t=(null!=(n=window.zooniverse)?n.translate:void 0)||e("../lib/translate"),o.push('\n\n<form class="sign-in-form">\n  <div class="loader"></div>\n\n  <header>'),o.push(t("signInForProfile")),o.push('</header>\n  <label><input type="text" name="username" required="required" data-zooniverse-translate="" data-zooniverse-translate-placeholder="username" /></label>\n  <label><input type="password" name="password" required="required" data-zooniverse-translate="" data-zooniverse-translate-placeholder="password" /></label>\n  <div class="error-message"></div>\n  <div class="action"><button type="submit">'),o.push(t("signIn")),o.push('</button></div>\n  <p class="no-account">'),o.push(t("noAccount")),o.push(' <button name="sign-up">'),o.push(t("signUp")),o.push('</button></p>\n</form>\n\n<nav>\n  <button name="turn-page" value="recents">'),o.push(t("recents")),o.push('</button>\n  <button name="turn-page" value="favorites">'),o.push(t("favorites")),o.push('</button>\n</nav>\n\n<div class="recents page"></div>\n<div class="recents-empty empty-message">'),o.push(t("recents")),o.push(" ("),o.push(t("none")),o.push(')</div>\n\n<div class="favorites page"></div>\n<div class="favorites-empty empty-message">'),o.push(t("favorites")),o.push(" ("),o.push(t("none")),o.push(")</div>\n")}).call(this)}.call(t),t.safe=r,t.escape=i,o.join("")},window.zooniverse.views.profile=template,"undefined"!=typeof t&&(t.exports=template)
},{"../lib/translate":31}],57:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(t){t||(t={});var n,o=[],r=t.safe,i=t.escape;return n=t.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=t.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var t,n,r;t=("undefined"!=typeof zooniverse&&null!==zooniverse?zooniverse.translate:void 0)||e("../lib/translate"),o.push("\n"),n=("undefined"!=typeof zooniverse&&null!==zooniverse&&null!=(r=zooniverse.views)?r.zooniverseLogoSvg:void 0)||e("./zooniverse-logo-svg"),o.push('\n\n<div class="loader"></div>\n\n<button type="button" name="close-dialog">&times;</button>\n\n<header>\n  '),o.push(n()),o.push("\n  "),o.push(t("signUpHeading")),o.push('\n</header>\n\n<label>\n  <span class="text-label">'),o.push(t("username")),o.push('</span><br />\n  <input type="text" name="username" required="required" />\n</label>\n\n<label>\n  <span class="text-label">'),o.push(t("password")),o.push('</span><br />\n  <input type="password" name="password" required="required" />\n</label>\n\n<label>\n  <span class="text-label">'),o.push(t("email")),o.push('</span><br />\n  <input type="email" name="email" required="required" />\n</label>\n\n<label>\n  <span class="text-label">'),o.push(t("realName")),o.push('</span><br />\n  <input type="text" name="real-name" />\n  <div class="explanation">'),o.push(t("whyRealName")),o.push('</div>\n</label>\n\n<label class="checkbox">\n  <span></span>\n  <input type="checkbox" required="required" />'),o.push(t("agreeToPrivacyPolicy")),o.push('\n</label>\n\n<label class="checkbox">\n  <span></span>\n  <input type="checkbox" name="beta-preference" />'),o.push(t("betaPreference")),o.push('\n</label>\n\n<div class="error-message"></div>\n\n<div class="action">\n  <button type="submit">'),o.push(t("signUp")),o.push("</button>\n</div>\n")}).call(this)}.call(t),t.safe=r,t.escape=i,o.join("")},window.zooniverse.views.signupDialog=template,"undefined"!=typeof t&&(t.exports=template)},{"../lib/translate":31,"./zooniverse-logo-svg":59}],58:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(t){t||(t={});var n,o=[],r=t.safe,i=t.escape;return n=t.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=t.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var t,n,r,i,s,a,l,u,c,p,h;r=(null!=(s=window.zooniverse)?s.translate:void 0)||e("../lib/translate"),o.push("\n"),i=(null!=(a=window.zooniverse)&&null!=(l=a.views)?l.zooniverseLogoSvg:void 0)||e("./zooniverse-logo-svg"),o.push("\n"),t=(null!=(u=window.zooniverse)&&null!=(c=u.views)?c.groupIconSvg:void 0)||e("./group-icon-svg"),o.push("\n"),n=(null!=(p=window.zooniverse)&&null!=(h=p.views)?h.mailIconSvg:void 0)||e("./mail-icon-svg"),o.push('\n\n<div class="corner">\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none">\n    <path d="M 0 0 L 100 0 L 100 100 Z" />\n  </svg>\n</div>\n\n<div class="no-user">\n  <div class="zooniverse-info piece">\n    '),o.push(i()),o.push("\n    "),o.push(r("topBarHeading")),o.push('\n  </div>\n\n  <div class="sign-in piece">\n    <button name="sign-up">'),o.push(r("signUp")),o.push('</button>\n    <span class="separator">|</span>\n    <button name="sign-in">'),o.push(r("signIn")),o.push('</button>\n  </div>\n</div>\n\n<div class="current-user">\n  <div class="user-info piece">\n    <div class="current-user-name">&mdash;</div>\n\n    <div class="sign-out">\n      <button name="sign-out">'),o.push(r("signOut")),o.push('</button>\n    </div>\n  </div>\n\n  <div class="groups piece">\n    <div class="groups-menu-toggle">\n      <button name="groups">'),o.push(t()),o.push('</button>\n    </div>\n  </div>\n\n  <div class="messages piece">\n    <a href="'),o.push(this.talkProfileHref),o.push('" class="message-link">\n      '),o.push(n()),o.push('\n      <span class="message-count">&mdash;</span>\n    </a>\n  </div>\n\n  <div class="avatar piece">\n    <a href="https://www.zooniverse.org/projects/current"><img src="" /></a>\n  </div>\n</div>\n\n<div class="languages piece">\n  <button name="languages-menu-toggle"></button>  \n</div>\n')}).call(this)}.call(t),t.safe=r,t.escape=i,o.join("")},window.zooniverse.views.topBar=template,"undefined"!=typeof t&&(t.exports=template)},{"../lib/translate":31,"./group-icon-svg":48,"./mail-icon-svg":53,"./zooniverse-logo-svg":59}],59:[function(e,t){window.zooniverse=window.zooniverse||{},window.zooniverse.views=window.zooniverse.views||{},template=function(e){e||(e={});var t,n=[],o=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?i(e):""},r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e;e=this.className||"zooniverse-logo",n.push('\n\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="'),n.push(o(e)),n.push('" width="1em" height="1em">\n  <g class="'),n.push(o(e)),n.push('" fill="currentColor" stroke="transparent" stroke-width="0" transform="translate(50, 50)">\n    <path d="M 0 -45 A 45 45 0 0 1 0 45 A 45 45 0 0 1 0 -45 Z M 0 -30 A 30 30 0 0 0 0 30 A 30 30 0 0 0 0 -30 Z" />\n    <path d="M 0 -12.5 A 12.5 12.5 0 0 1 0 12.5 A 12.5 12.5 0 0 1 0 -12.5 Z" />\n    <path d="M 0 -75 L 5 0 L 0 75 L -5 0 Z" transform="rotate(50)" />\n  </g>\n</svg>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")},window.zooniverse.views.zooniverseLogoSvg=template,"undefined"!=typeof t&&(t.exports=template)},{}],60:[function(e,t){var n,o,r,i,s,a,l={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var o in t)l.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=e("zooniverse/controllers/base-controller"),a=e("zooniverse/models/user"),s=e("zooniverse/models/subject"),n=e("zooniverse/models/classification"),i=+location.port>1023,o=function(e){function t(){this.Subject=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t}(s),t.__super__.constructor.apply(this,arguments),this.Subject.group=this.subjectGroup,this.listenTo(a,"change",function(e){return function(t,n){return e.onUserChange(n)}}(this)),this.listenTo(this.Subject,"getting-next",function(e){return function(){return e.onSubjectGettingNext()}}(this)),this.listenTo(this.Subject,"select",function(e){return function(t,n){return e.onSubjectSelect(n)}}(this)),i&&(window.classifier=this)}return u(t,e),t.prototype.Subject=null,t.prototype.subjectGroup=s.prototype.subjectGroup,t.prototype.className="readymade-classifier",t.prototype.tutorial=null,t.prototype.listenTo=function(e,t,n){var o,r;return o="on"in e?"on":"addEventListener",r="off"in e?"off":"removeEventListener",e[o](t,n),this.on("destroy",function(){return e[r](t,n)})},t.prototype.onUserChange=function(e){var t,n;return t=null!=e&&null!=(n=e.project)?n.tutorial_done:void 0,null==this.tutorial||t?null==this.classification?this.Subject.next():void 0:this.startTutorial()},t.prototype.startTutorial=function(){return this.tutorial.start()},t.prototype.onSubjectGettingNext=function(){return this.el.addClass("readymade-loading"),this.classification=null},t.prototype.onSubjectSelect=function(e){return this.createClassification(e),console.log("Have this subject ",e),this.loadSubject(e,function(e){return function(){return e.loadClassification(e.classification),e.el.removeClass("readymade-loading")}}(this))},t.prototype.createClassification=function(e){return this.classification=new n({subject:e})},t.prototype.loadSubject=function(){},t.prototype.loadClassification=function(){},t.prototype.finishSubject=function(){return this.sendClassification(),this.getNextSubject()},t.prototype.sendClassification=function(){return i&&"undefined"!=typeof console&&null!==console?console.log(JSON.stringify(this.classification)):void 0},t.prototype.getNextSubject=function(){return this.Subject.next()},t}(r),t.exports=o},{"zooniverse/controllers/base-controller":16,"zooniverse/models/classification":33,"zooniverse/models/subject":36,"zooniverse/models/user":37}],61:[function(e,t){var n,o,r,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=e("./classifier"),s=e("./subject-viewer"),r=e("zooniverse-decision-tree"),i=e("./tasks/drawing"),o=function(t){function o(){o.__super__.constructor.apply(this,arguments),this.subjectViewer=new s,this.subjectViewerContainer.append(this.subjectViewer.el),this.decisionTree=new r({taskTypes:{radio:e("./tasks/radio"),checkbox:e("./tasks/checkbox"),button:e("./tasks/button"),filter:e("./tasks/filter"),drawing:i},tasks:this.tasks,firstTask:this.firstTask||Object.keys(this.tasks)[0]}),this.listenTo(this.decisionTree.el,this.decisionTree.LOAD_TASK,function(e){return function(t){return e.subjectViewer.setTaskIndex(t.detail.index)}}(this)),this.listenTo(this.decisionTree.el,i.prototype.SELECT_TOOL,function(e){return function(t){var n,o,r;return r=t.detail,o=r.tool,n=r.choice,e.subjectViewer.setTool(o,n)}}(this)),this.listenTo(this.decisionTree.el,this.decisionTree.COMPLETE,function(e){return function(){return e.finishSubject()}}(this)),this.decisionTreeContainer.append(this.decisionTree.el)}return l(o,t),o.prototype.workflow="untitled_workflow",o.prototype.tasks=null,o.prototype.firstTask="",o.prototype.className=""+n.prototype.className+" readymade-classify-page",o.prototype.template=e("./templates/classify-page"),o.prototype.elements={".readymade-subject-viewer-container":"subjectViewerContainer",".readymade-decision-tree-container":"decisionTreeContainer"},o.prototype.loadSubject=function(e,t){return o.__super__.loadSubject.apply(this,arguments),this.subjectViewer.loadSubject(e,t)},o.prototype.loadClassification=function(e){return o.__super__.loadClassification.apply(this,arguments),this.subjectViewer.loadClassification(e),this.decisionTree.reset()},o.prototype.sendClassification=function(){var e,t,n,r;for(this.classification.set("workflow",this.workflow),r=this.composeAnnotations(),t=0,n=r.length;n>t;t++)e=r[t],this.classification.annotate(e);return o.__super__.sendClassification.apply(this,arguments)},o.prototype.composeAnnotations=function(){var e,t,n,o,r,i,s,a,l,u,c,p;for(e=[],t=this.decisionTree.getValues(),a=0,u=t.length;u>a;a++){o=t[a];for(n in o)i=o[n],e.push({key:n,value:i})}for(p=this.subjectViewer.markingSurface.tools,l=0,c=p.length;c>l;l++)r=p[l].mark,null==(s=e[r._taskIndex]).marks&&(s.marks=[]),e[r._taskIndex].marks.push(r);return e},o}(n),t.exports=o},{"./classifier":60,"./subject-viewer":68,"./tasks/button":69,"./tasks/checkbox":70,"./tasks/drawing":71,"./tasks/filter":72,"./tasks/radio":73,"./templates/classify-page":75,"zooniverse-decision-tree":14}],62:[function(e,t){var n,o,r,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=e("marking-surface/lib/tools/point"),r=e("marking-surface").SVG,o=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.coordsGroup=r.prototype.addShape.call(this,"g.readymade-coordinates-label"),this.coordsRect=this.coordsGroup.addShape("rect",{x:-5}),this.coordsLabel=this.coordsGroup.addShape("text")}return s(n,t),n.Controls=e("./tool-controls"),n.prototype.unit="",n.prototype.upp=0,n.prototype.precision=0,n.prototype.rescale=function(e){var t;return n.__super__.rescale.apply(this,arguments),this.coordsLabel.el.style.fontSize="",t=parseFloat(getComputedStyle(this.coordsLabel.el).fontSize),this.coordsLabel.el.style.fontSize=""+t/e+"px"},n.prototype.render=function(){var e,t,o,r,i;return n.__super__.render.apply(this,arguments),this.attr("data-show-coordinates",this.unit&&this.upp||null),r=(this.mark.x/this.upp).toFixed(this.precision)+this.unit,i=(this.mark.y/this.upp).toFixed(this.precision)+this.unit,this.coordsLabel.attr("textContent",""+r+", "+i),e=this.coordsLabel.el.getBBox(),this.coordsRect.attr({y:-e.height-5,width:e.width+5,height:e.height+10}),t=e.width/-2,o=e.height+parseFloat(this.disc.attr("r")||this.radius),this.coordsGroup.attr("transform","translate("+Math.floor(t)+", "+Math.floor(o)+")")},n}(n),t.exports=o},{"./tool-controls":63,"marking-surface":6,"marking-surface/lib/tools/point":8}],63:[function(e,t){var n,o,r,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=e("marking-surface").ToolControls,o=e("zooniverse-decision-tree").Task,r=function(t){function n(){this.detailTasks={},n.__super__.constructor.apply(this,arguments),this.addEvent("click",'button[name="readymade-destroy-drawing"]',[this.tool.mark,"destroy"]),this.addEvent("change",this.onChange),setTimeout(function(e){return function(){var t,n,o,r,i;if(null!=e.details){for(r=e.details,i=[],n=0,o=r.length;o>n;n++)t=r[n],i.push(e.addDetail(t));return i}}}(this))}return s(n,t),n.prototype.template=e("../templates/tool-controls")(),n.prototype.details=null,n.prototype.taskTypes={radio:e("../tasks/radio"),checkbox:e("../tasks/checkbox")},n.prototype.addDetail=function(e){var t;return t=this.el.querySelector("form"),e instanceof o||(e=new this.taskTypes[e.type](e)),this.detailTasks[e.key]=e,e.renderTemplate(),e.show(),t.appendChild(e.el)},n.prototype.onChange=function(){var e,t,n,o;n=this.detailTasks,o=[];for(e in n)t=n[e],o.push(this.tool.mark.set(e,t.getValue()));return o},n.prototype.render=function(){return setTimeout(function(e){return function(){var t,n,o,r;o=e.detailTasks,r=[];for(t in o)n=o[t],r.push(n.reset(e.tool.mark[t]));return r}}(this))},n}(n),t.exports=r},{"../tasks/checkbox":70,"../tasks/radio":73,"../templates/tool-controls":81,"marking-surface":6,"zooniverse-decision-tree":14}],64:[function(e,t){var n;n=function(e){return e.toLowerCase().replace(/\W+/g,"-")},t.exports=n},{}],65:[function(e,t){var n,o,r,i,s,a,l,u,c,p,h,d;n=e("zooniverse/lib/api"),u=e("zooniverse/controllers/top-bar"),s=e("./site-background"),a=e("./site-header"),l=e("stack-of-pages"),h=e("./templates/home-page"),p=e("./lib/dash"),o=e("./classify-page"),r=e("zooniverse/controllers/profile"),d=e("./templates/team-page"),c=e("zooniverse/models/user"),i=function(){function e(e){var t,n,i,u,f,g,v,m,y,w,_,b,k,z,S,C,x,T;null==e&&(e={});for(g in e)w=e[g],this[g]=w;if(this.background&&(this.siteBackground=new s({src:this.background}),this.siteBackground.el.appendTo(document.body)),this.id&&this.connect(this.id),this.header=new a({template:a.prototype.template(this)}),this.stack=new l,this.stack.el.className+=" readymade-main-stack",(this.summary||this.description)&&this.addPage("#/","Home",h(this)),this.classifyPages=[],null!=this.workflows)for(S=this.workflows,_=0,k=S.length;k>_;_++)C=S[_],i=C.key,u=C.label,v=C.subjectGroup,m=C.tasks,n=C.firstTask,console.log({subjectGroup:v}),null==u&&(u="Classify"),null==i&&(i=p(u).replace(/\-/g,"_")),f=new o({subjectGroup:v,workflow:i,tasks:m,firstTask:n}),this.addPage("#/"+p(u),u,f),this.classifyPages.push(f);else null!=this.tasks&&(f=new o({tasks:this.tasks,firstTask:this.firstTask}),this.addPage("#/classify","Classify",f),this.classifyPages.push(f));if(this.profile!==!1&&(this.profile=new r,this.addPage("#/profile","Profile",this.profile)),null!=this.pages)for(x=this.pages,b=0,z=x.length;z>b;b++){f=x[b];for(y in f)t=f[y],this.addPage("#/"+p(y),y,"<div>"+t+"</div>")}(this.organizations||this.scientists||this.developers)&&this.addPage("#/team","Team",d(this)),null!=this.parent&&this.header.el.appendTo(this.parent),null!=(T=this.parent)&&T.appendChild(this.stack.el),this.stack.onHashChange(),c.fetch()}return e.prototype.parent=document.body,e.prototype.background="",e.prototype.id="",e.prototype.producer="",e.prototype.title="",e.prototype.summary="",e.prototype.description="",e.prototype.about="",e.prototype.pages=null,e.prototype.workflows=null,e.prototype.tasks=null,e.prototype.firstTask="",e.prototype.organizations=null,e.prototype.scientists=null,e.prototype.developers=null,e.prototype.connect=function(e){return this.api=new n({project:e,host:"/"}),this.topBar=new u,this.topBar.el.appendTo(document.body)},e.prototype.addPage=function(e,t,n){return this.stack.add(e,n),this.header.addNavLink(e,t)},e}(),t.exports=i},{"./classify-page":61,"./lib/dash":64,"./site-background":66,"./site-header":67,"./templates/home-page":76,"./templates/team-page":80,"stack-of-pages":11,"zooniverse/controllers/profile":24,"zooniverse/controllers/top-bar":27,"zooniverse/lib/api":28,"zooniverse/models/user":37}],66:[function(e,t){var n,o,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=e("zooniverse/controllers/base-controller"),o=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.el.css("backgroundImage","url('"+this.src+"')")}return i(n,t),n.prototype.className="readymade-site-background",n.prototype.template=e("./templates/site-background"),n.prototype.src="",n}(n),t.exports=o},{"./templates/site-background":77,"zooniverse/controllers/base-controller":16}],67:[function(e,t){var n,o,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=e("zooniverse/controllers/base-controller"),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.className="readymade-site-header",n.prototype.template=e("./templates/site-header"),n.prototype.elements={".readymade-site-links":"linksList"},n.prototype.addNavLink=function(e,t){return this.linksList.append("<a href='"+e+"' class='readymade-site-link'>"+t+"</a>\n")},n}(n),t.exports=o},{"./templates/site-header":78,"zooniverse/controllers/base-controller":16}],68:[function(e,t){var n,o,r,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var o in t)s.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l=function(e,t){return(e%t+ +t)%t};n=e("zooniverse/controllers/base-controller"),o=e("marking-surface"),i=function(e,t){var n;return n=new Image,n.onload=function(){return"function"==typeof t?t(n):void 0},n.src=e},r=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.createMarkingSurface()}return a(n,t),n.prototype.className="readymade-subject-viewer",n.prototype.template=e("./templates/subject-viewer"),n.prototype.currentFrame=0,n.prototype.advanceTimeout=0/0,n.prototype.taskIndex=-1,n.prototype.toolOptions=null,n.prototype.FROM_CURRENT_TASK="data-from-current-task",n.prototype.elements={".readymade-marking-surface-container":"markingSurfaceContainer",".readymade-frame-controls":"frameControls",'button[name="play-frames"]':"playButton",'button[name="pause-frames"]':"pauseButton",".readymade-frame-toggles-list":"togglesList"},n.prototype.createMarkingSurface=function(){return this.markingSurface=new o,this.frameGroup=this.markingSurface.addShape("g.frames"),this.frames=[],this.markingSurface.on("add-tool",function(e){return function(t){var n,o,r,i,s,a;if(t.attr(e.FROM_CURRENT_TASK,!0),n=null!=(i=e.toolOptions)?i.color:void 0,null!=n&&(t.el.style.color=n),t.unit=e.toolOptions.unit,t.upp=e.toolOptions.upp,null!=(s=t.controls)&&(s.details=e.toolOptions.details),null!=e.toolOptions){a=e.toolOptions;for(o in a)r=a[o],t[o]=r}return t.mark.set("_taskIndex",e.taskIndex),t.mark.set("frame",e.currentFrame)}}(this)),this.markingSurfaceContainer.append(this.markingSurface.el)},n.prototype.loadSubject=function(e,t){var n,o,r,i,s,a,l,u,c;for(this.subject=e,console.log("Loading subject ",this.subject),this.pauseFrames(),this.markingSurface.reset();0!==this.frames.length;)this.frames.pop().remove();for(this.togglesList.empty(),s=[],n=[],i=null!=(c=this.subject.location.standard)?c:this.subject.location,i=[].concat(i),a=function(e){return function(o){return e.addFrame(r,function(r){var a,l;return s.push(r.attr("width")),n.push(r.attr("height")),l=Math.max.apply(Math,s),a=Math.max.apply(Math,n),e.markingSurface.svg.attr({viewBox:"0 0 "+l+" "+a}),e.frameGroup.attr({transform:"translate("+l/2+", "+a/2+")"}),o+1===i.length?(e.goTo(0),"function"==typeof t?t():void 0):void 0}),e.addToggle(o)}}(this),o=l=0,u=i.length;u>l;o=++l)r=i[o],a(o);return this.frameControls.attr("data-single-frame",1===i.length||null)},n.prototype.loadClassification=function(){},n.prototype.addFrame=function(e,t){return i(e,function(e){return function(n){var o,r,i,s;return i=n.src,s=n.width,o=n.height,r=e.frameGroup.addShape("image",{"xlink:href":i,width:s,height:o,x:s/-2,y:o/-2}),e.frames.push(r),"function"==typeof t?t(r):void 0}}(this))},n.prototype.addToggle=function(e){return this.togglesList.append("<button name='toggle-frame' value='"+e+"' class='toggle-frame'>"+(e+1)+"</button>\n")},n.prototype.goTo=function(e){var t;return this.currentFrame=e,this.currentFrame=l(this.currentFrame,this.frames.length),this.frames[this.currentFrame].toFront(),t=this.togglesList.find("button"),t.attr("data-selected",null),t.eq(this.currentFrame).attr("data-selected",!0),this.el.trigger("change-frame",[this.currentFrame])},n.prototype.playFrames=function(){return this.playButton.prop("disabled",!0),this.pauseButton.prop("disabled",!1),this.advanceFrames()},n.prototype.advanceFrames=function(){return this.goTo(this.currentFrame+1),this.advanceTimeout=setTimeout(this.advanceFrames.bind(this),250)},n.prototype.pauseFrames=function(){return clearTimeout(this.advanceTimeout),this.playButton.prop("disabled",!1),this.pauseButton.prop("disabled",!0)},n.prototype.setTaskIndex=function(e){var t,n,o,r;for(this.taskIndex=e,o=this.markingSurface.tools,r=[],n=o.length-1;n>=0;n+=-1)t=o[n],r.push(t.attr(this.FROM_CURRENT_TASK,t.mark._taskIndex===this.taskIndex||null));return r},n.prototype.setTool=function(e,t){return this.markingSurface.tool=e,this.toolOptions=t},n.prototype.getMarks=function(){var e,t,n,o,r,i;for(t={},i=this.markingSurface.tools,n=0,o=i.length;o>n;n++)e=i[n].mark,null==t[r=e.step]&&(t[r]=[]),t[e.step].push(e);return t},n.prototype.events={'click button[name="play-frames"]':function(){return this.playFrames(),this.pauseButton.focus()},'click button[name="pause-frames"]':function(){return this.pauseFrames(),this.playButton.focus()},'click button[name="toggle-frame"]':function(e){return this.goTo(e.currentTarget.value)}},n}(n),t.exports=r},{"./templates/subject-viewer":79,"marking-surface":6,"zooniverse/controllers/base-controller":16}],69:[function(e,t){var n,o,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=e("zooniverse-decision-tree/lib/button-task"),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.choiceTemplate=e("../templates/choice"),n}(n),t.exports=o},{"../templates/choice":74,"zooniverse-decision-tree/lib/button-task":12}],70:[function(e,t){var n,o,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=e("zooniverse-decision-tree/lib/checkbox-task"),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.choiceTemplate=e("../templates/choice"),n}(n),t.exports=o},{"../templates/choice":74,"zooniverse-decision-tree/lib/checkbox-task":13}],71:[function(e,t){var n,o,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=e("./radio"),n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.type="drawing",n.prototype.tools={point:e("../drawing-tools/point"),ellipse:e("marking-surface/lib/tools/ellipse"),rect:e("marking-surface/lib/tools/rectangle"),text:e("marking-surface/lib/tools/transcription")},n.prototype.SELECT_TOOL="decision-tree:select-drawing-tool",n.prototype.enter=function(){return n.__super__.enter.apply(this,arguments),this.el.addEventListener("change",this,!1),1===this.choices.length?(this.reset(this.choices[0].value),this.selectTool(this.choices[0].value,this.choices[0])):void 0},n.prototype.exit=function(){return n.__super__.exit.apply(this,arguments),this.el.removeEventListener("change",this,!1),this.dispatchEvent(this.CHANGE_TOOL,null)},n.prototype.handleEvent=function(e){var t;return"change"===e.type&&e.target.hasAttribute("data-choice-index")?(t=this.getChoice(),this.selectTool(t.value,t)):n.__super__.handleEvent.apply(this,arguments)},n.prototype.selectTool=function(e,t){return"string"==typeof e&&(e=this.tools[e]),this.dispatchEvent(this.SELECT_TOOL,{tool:e,choice:t})},n}(o),t.exports=n},{"../drawing-tools/point":62,"./radio":73,"marking-surface/lib/tools/ellipse":7,"marking-surface/lib/tools/rectangle":9,"marking-surface/lib/tools/transcription":10}],72:[function(e,t){var n,o,r,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var o in t)s.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=e("./radio"),n=e("zooniverse/controllers/dropdown"),i=e("../templates/choice"),o=function(e){function t(){t.__super__.constructor.apply(this,arguments),null==this.currentFilters&&(this.currentFilters={}),this.reflectFilter()}return a(t,e),t.type="filter",t.prototype.filters=null,t.prototype.currentFilters=null,t.prototype.buttons=null,t.prototype.menus=null,t.prototype.clearButtons=null,t.prototype.dropdowns=null,t.prototype.filtersTemplate=function(){var e,t,n,o;return"<div class='readymade-classification-filters'> "+function(){var r,i,s,a;for(s=this.filters,a=[],t=r=0,i=s.length;i>r;t=++r)e=s[t],a.push("<div class='readymade-classification-filter'> <button name='"+e.key+"' class='readymade-filter-button'>"+e.label+"</button> <div class='readymade-filter-menu'> <form> "+function(){var t,r,i,s;for(i=e.values,s=[],n=t=0,r=i.length;r>t;n=++t)o=i[n],s.push(this.valueTemplate(e,o,n));return s}.call(this).join("\n")+" "+this.valueTemplate({key:e.key,type:"button"},{label:"&times;",value:""},0)+" </form> </div> </div>");return a}.call(this).join("\n")+" </div>"},t.prototype.valueTemplate=function(e,t,n){return e=Object.create(e),null==e.type&&(e.type="radio"),i.call(e,t,n)},t.prototype.renderTemplate=function(){var e,o,r,i;return t.__super__.renderTemplate.apply(this,arguments),i=this.el.querySelector(".decision-tree-question"),i.insertAdjacentHTML("afterEnd",this.filtersTemplate()),e=this.el.querySelector(".readymade-classification-filters"),this.buttons=Array.prototype.slice.call(e.querySelectorAll(".readymade-filter-button")),this.menus=Array.prototype.slice.call(e.querySelectorAll(".readymade-filter-menu")),this.clearButtons=function(){var e,t,n,o;for(n=this.menus,o=[],e=0,t=n.length;t>e;e++)r=n[e],o.push(r.querySelector('input[type="button"][value=""]'));return o}.call(this),this.dropdowns=function(){var e,t,r;for(r=[],o=e=0,t=this.buttons.length;t>=0?t>e:e>t;o=t>=0?++e:--e)r.push(new n({button:this.buttons[o],menu:this.menus[o],buttonPinning:[1,1],menuPinning:[1,0]}));return r}.call(this)},t.prototype.enter=function(){var e,n,o,r;for(t.__super__.enter.apply(this,arguments),r=[],e=n=0,o=this.menus.length;o>=0?o>n:n>o;e=o>=0?++n:--n)this.menus[e].addEventListener("change",this),r.push(this.clearButtons[e].addEventListener("click",this));return r},t.prototype.exit=function(){var e,n,o;for(e=n=0,o=this.menus.length;o>=0?o>n:n>o;e=o>=0?++n:--n)this.menus[e].removeEventListener("change",this),this.clearButtons[e].removeEventListener("click",this);return t.__super__.exit.apply(this,arguments)},t.prototype.handleEvent=function(e){var o,r;return"change"===e.type&&(o=e.currentTarget,l.call(this.menus,o)>=0)?(this.handleFilterChange(this.menus.indexOf(e.currentTarget)),n.closeAll()):"click"===e.type&&(r=e.currentTarget,l.call(this.clearButtons,r)>=0)?this.clearFilter(this.clearButtons.indexOf(e.currentTarget)):t.__super__.handleEvent.apply(this,arguments)},t.prototype.handleFilterChange=function(e){var t,n;return t=this.menus[e].querySelector(":checked"),t&&(n=t.getAttribute("data-choice-index"),this.currentFilters[this.filters[e].key]=this.filters[e].values[n].value),this.reflectFilter(this.currentFilters)},t.prototype.clearFilter=function(e){var t;return null!=(t=this.menus[e].querySelector(":checked"))&&(t.checked=!1),delete this.currentFilters[this.filters[e].key],this.reflectFilter(this.currentFilters)},t.prototype.reflectFilter=function(e){var t,n,o,r,i,s,a,u;for(n=this.el.querySelectorAll("[data-choice-index]"),u=[],o=s=0,a=n.length;a>s;o=++s)t=n[o],t.removeAttribute("data-filtered"),u.push(function(){var n;n=[];for(r in e)i=e[r],n.push(l.call(this.choices[o].traits[r],i)<0?t.setAttribute("data-filtered",!0):void 0);return n}.call(this));return u},t}(r),t.exports=o},{"../templates/choice":74,"./radio":73,"zooniverse/controllers/dropdown":18}],73:[function(e,t){var n,o,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=e("zooniverse-decision-tree/lib/radio-task"),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.choiceTemplate=e("../templates/choice"),n}(n),t.exports=o},{"../templates/choice":74,"zooniverse-decision-tree/lib/radio-task":15}],74:[function(e,t){var n;n={drawing:"radio",filter:"radio"},t.exports=function(e,t){var o,r,i,s,a,l,u,c;return"<label class='readymade-choice-input-wrapper'> <input type='"+(null!=(o=null!=(r=null!=(i=n[null!=(s=this.constructor)?s.type:void 0])?i:n[this.type])?r:null!=(a=this.constructor)?a.type:void 0)?o:this.type)+"' name='"+this.key+"' value='"+e.value+"' data-choice-index='"+t+"' /> <div class='readymade-choice-clickable readymade-choice-"+(null!=(l=this.constructor.type)?l:this.type)+"'> <div class='readymade-choice-tickbox'> <div class='readymade-choice-tick'></div> </div> "+(null!=e.image?"<div class='readymade-choice-image'><img src='"+e.image+"' /></div>":"")+" <div class='readymade-choice-label'>"+(null!=(u=null!=(c=e.label)?c:e.value)?u:t)+"</div> "+(null!=e.color?"<div class='readymade-choice-color' style='color: "+e.color+";'></div>":"")+" </div> </label>"}},{}],75:[function(e,t){t.exports=function(e){e||(e={});var t,n=[],o=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="readymade-classification-interface">\n  <div class="readymade-subject-viewer-container"></div>\n  <div class="readymade-decision-tree-container"></div>\n</div>\n')}).call(this)}.call(e),e.safe=o,e.escape=r,n.join("")}},{}],76:[function(e,t){t.exports=function(t){t||(t={});var n,o=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?s(e):""
},i=t.safe,s=t.escape;return n=t.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},s||(s=t.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var t,n,i,s,a,l;for(t=e("../lib/dash"),o.push('\n\n<div class="readymade-home-page">\n  '),this.summary&&(o.push('\n    <div class="readymade-project-summary">\n      '),o.push(this.summary),o.push("\n    </div>\n  ")),o.push("\n\n  "),this.description&&(o.push('\n    <div class="readymade-project-description">\n      '),o.push(this.description),o.push("\n    </div>\n  ")),o.push('\n\n  <div class="readymade-footer">\n    '),i=null!=(l=this.workflows)?l:[{label:"Classify"}],o.push("\n    "),s=0,a=i.length;a>s;s++)n=i[s].label,o.push('\n      <a href="#/'),o.push(r(t(n))),o.push('" class="readymade-call-to-action">'),o.push(n),o.push("</a>\n    ");o.push("\n  </div>\n</div>\n")}).call(this)}.call(t),t.safe=i,t.escape=s,o.join("")}},{"../lib/dash":64}],77:[function(e,t){t.exports=function(e){e||(e={});var t,n=[],o=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="readymade-site-background-effect"></div>\n')}).call(this)}.call(e),e.safe=o,e.escape=r,n.join("")}},{}],78:[function(e,t){t.exports=function(e){e||(e={});var t,n=[],o=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="readymade-creator">\n  <a href="#/">\n    <div class="readymade-project-producer">'),n.push(this.producer),n.push('</div>\n    <div class="readymade-project-title">'),n.push(this.title),n.push('</div>\n  </a>\n</div>\n\n<div class="readymade-site-links"></div>\n')}).call(this)}.call(e),e.safe=o,e.escape=r,n.join("")}},{}],79:[function(e,t){t.exports=function(e){e||(e={});var t,n=[],o=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="readymade-marking-surface-container"></div>\n\n<div class="readymade-frame-controls">\n  <div class="readymade-frame-play-controls">\n    <button name="play-frames"></button>\n    <button name="pause-frames"></button>\n  </div>\n\n  <div class="readymade-frame-toggles-list"></div>\n</div>\n')}).call(this)}.call(e),e.safe=o,e.escape=r,n.join("")}},{}],80:[function(e,t){t.exports=function(e){e||(e={});var t,n=[],o=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?i(e):""},r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,t,r,i,s,a,l,u,c,p,h,d,f,g,v;for(n.push('<div class="readymade-team-page">\n  '),g=["organizations","scientists","developers"],l=0,h=g.length;h>l;l++)if(e=g[l],null!=this[e]){for(n.push('\n    <div class="readymade-team-group-title">\n      '),"organizations"===e?n.push("\n        Organizations\n      "):"scientists"===e?n.push("\n        Scientists\n      "):"developers"===e&&n.push("\n        Developers\n      "),n.push('\n    </div>\n    <div class="readymade-'),n.push(o(e)),n.push(' readymade-team-group">\n      '),v=this[e],r=u=0,d=v.length;d>u;r=++u){if(i=v[r],n.push('\n        <div class="readymade-team-member">\n          '),null!=i.image&&(n.push('\n            <img src="'),n.push(o(i.image)),n.push('" class="readymade-team-member-photo" />\n          ')),n.push('\n\n          <div class="readymade-team-member-title">\n            '),null!=i.name&&(n.push("\n              "),n.push(i.name),n.push("\n            ")),n.push("\n\n            "),null!=i.url){for(n.push('\n              <span class="readymade-member-links">\n                '),a=[].concat(i.url),n.push("\n                "),c=0,f=a.length;f>c;c++)s=a[c],n.push('\n                  <a href="'),n.push(o(s)),n.push('" class="readymade-member-url">\n                    <!--TODO: These will be icons.-->\n                    '),n.push(s.match("facebook.com")?'\n                      <i class="fa fa-lg fa-facebook-square"></i>\n                    ':s.match("github.com")?'\n                      <i class="fa fa-lg fa-github-alt"></i>\n                    ':s.match("linkedin.com")?'\n                      <i class="fa fa-lg fa-linkedin-square"></i>\n                    ':s.match("twitter.com")?'\n                      <i class="fa fa-lg fa-twitter"></i>\n                    ':s.match("mailto:")?'\n                      <i class="fa fa-lg fa-envelope"></i>\n                    ':'\n                      <i class="fa fa-lg fa-globe"></i>\n                    '),n.push("\n                  </a>\n                ");n.push("\n              </span>\n            ")}for(n.push('\n          </div>\n\n          <div class="readymade-team-member-description">\n            '),null!=i.description&&(n.push("\n              "),n.push(i.description),n.push("\n            ")),n.push("\n          </div>\n        </div>\n\n        <!--"),t=p=2;5>p;t=++p)n.push("\n          "),(r+1)%t===0&&(n.push('\n            <span class="readymade-set-of-'),n.push(o(t)),n.push('"></span>\n          ')),n.push("\n        ");n.push("-->\n      ")}n.push("\n    </div>\n  ")}n.push("\n</div>\n")}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}},{}],81:[function(e,t){t.exports=function(e){e||(e={});var t,n=[],o=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push("<button name='readymade-destroy-drawing'>&times;</button>\n<form></form>\n")}).call(this)}.call(e),e.safe=o,e.escape=r,n.join("")}},{}]},{},[3]);